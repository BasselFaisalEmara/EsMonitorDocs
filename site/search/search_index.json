{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"eSolutions Monitoring Implementation","text":"<p>This document outlines the Project Implementation Plan for deploying the eSolutions Monitoring Platform within the client environment.</p>"},{"location":"#executive-summary","title":"Executive Summary","text":"<p>This project aims to deliver a unified, enterprise-grade observability solution for the IBM Maximo ecosystem. The solution will replace fragmented tools with the proprietary eSolutions Platform, ensuring end-to-end visibility from the OS layer up to the Maximo application logic.</p>"},{"location":"#project-scope","title":"Project Scope","text":"<ul> <li>Target System: IBM Maximo 7.6.x Production &amp; Non-Production.</li> <li>Components: Core Platform, 2x Connectors, ~50 Agents.</li> <li>Timeline: 4 Weeks (Discovery to Handover).</li> </ul>"},{"location":"#deliverables","title":"Deliverables","text":"<ol> <li>Operational Monitoring Platform (HA Ready).</li> <li>Custom Maximo Dashboard Pack.</li> <li>Alerting Integration with MS Teams.</li> <li>Admin &amp; Operator Training.</li> </ol>"},{"location":"deployment_guide/","title":"eSolutions Monitoring Platform \u2014 Deployment Guide","text":""},{"location":"deployment_guide/#build","title":"Build","text":"<p>On your development machine, run: <pre><code>cd EsMonitor\n.\\build_all.bat\n</code></pre></p> <p>This produces two deployment folders: <pre><code>dist\\deploy\\\n\u251c\u2500\u2500 agent\\                     \u2190 Copy to each Maximo server\n\u2502   \u251c\u2500\u2500 EsMonitorAgent.exe\n\u2502   \u251c\u2500\u2500 config.json\n\u2502   \u2514\u2500\u2500 lib\\JmxBridge.jar\n\u2502\n\u2514\u2500\u2500 core\\                      \u2190 Copy to the Core server\n    \u251c\u2500\u2500 EsMonitorCore.exe\n    \u2514\u2500\u2500 config.yaml\n</code></pre></p> <p>No Python required on target servers. Both EXEs are fully standalone.</p>"},{"location":"deployment_guide/#deploy-core-server","title":"Deploy Core Server","text":""},{"location":"deployment_guide/#1-transfer","title":"1. Transfer","text":"<pre><code>xcopy /E /I dist\\deploy\\core \\\\CORE-SERVER\\C$\\eSolutions\\Core\n</code></pre>"},{"location":"deployment_guide/#2-configure","title":"2. Configure","text":"<p>Edit <code>config.yaml</code> on the Core server: <pre><code>database:\n  type: sqlite\n  name: es_monitor.db\n\napi:\n  host: 0.0.0.0\n  port: 8443\n  workers: 4\n</code></pre></p>"},{"location":"deployment_guide/#3-firewall","title":"3. Firewall","text":"<pre><code>netsh advfirewall firewall add rule name=\"eSolutions Core\" dir=in action=allow protocol=tcp localport=8443\n</code></pre>"},{"location":"deployment_guide/#4-run","title":"4. Run","text":"<pre><code>EsMonitorCore.exe\n</code></pre>"},{"location":"deployment_guide/#5-verify","title":"5. Verify","text":"<ul> <li>API: <code>http://CORE-IP:8443/</code> \u2192 <code>{\"status\": \"running\"}</code></li> <li>Dashboard: <code>http://CORE-IP:8443/dashboard</code></li> <li>Docs: <code>http://CORE-IP:8443/docs</code></li> </ul>"},{"location":"deployment_guide/#deploy-agent-per-maximo-server","title":"Deploy Agent (per Maximo Server)","text":""},{"location":"deployment_guide/#1-transfer_1","title":"1. Transfer","text":"<pre><code>xcopy /E /I dist\\deploy\\agent \\\\MAXIMO-SERVER\\C$\\eSolutions\\Agent\n</code></pre>"},{"location":"deployment_guide/#2-configure_1","title":"2. Configure","text":"<p>Edit <code>config.json</code> on the Maximo server: <pre><code>{\n    \"core_url\": \"http://CORE-SERVER-IP:8443\",\n    \"tenant_id\": \"client-name\",\n    \"hostname\": \"auto\",\n    \"interval\": 60,\n    \"collectors\": {\n        \"cpu\": true,\n        \"memory\": true,\n        \"disk\": true,\n        \"network\": false\n    },\n    \"maximo\": {\n        \"enabled\": true,\n        \"host\": \"localhost\",\n        \"port\": 9060,\n        \"username\": \"wasadmin\",\n        \"password\": \"wasadmin\"\n    }\n}\n</code></pre></p> Field Description <code>core_url</code> IP/hostname of your Core server <code>tenant_id</code> Client identifier for multi-tenancy <code>maximo.enabled</code> Set <code>true</code> on Maximo/WAS servers <code>maximo.port</code> WebSphere JMX/RMI port (usually 9060)"},{"location":"deployment_guide/#3-run","title":"3. Run","text":"<pre><code>EsMonitorAgent.exe\n</code></pre>"},{"location":"deployment_guide/#4-verify","title":"4. Verify","text":"<pre><code>============================================================\neSolutions Monitoring Agent\n============================================================\nHostname:     MAXIMO-APP-01\nCore URL:     http://10.20.1.5:8443\nCollectors:   5 enabled\n============================================================\n\u2713 Sent 7 metrics to Core\n</code></pre>"},{"location":"deployment_guide/#run-as-windows-service-recommended","title":"Run as Windows Service (Recommended)","text":"<p>Since these are console applications, use NSSM (Non-Sucking Service Manager) to run them as robust Windows Services. This handles auto-restart and log capturing correctly.</p> <ol> <li>Download <code>nssm.exe</code> (Latest release).</li> <li>Run Command Prompt as Administrator.</li> </ol>"},{"location":"deployment_guide/#agent-service","title":"Agent Service","text":"<pre><code>nssm install EsMonitorAgent \"C:\\eSolutions\\Agent\\EsMonitorAgent.exe\"\nnssm set EsMonitorAgent AppDirectory \"C:\\eSolutions\\Agent\"\nnssm set EsMonitorAgent AppStdout \"C:\\eSolutions\\Agent\\logs\\service_out.log\"\nnssm set EsMonitorAgent AppStderr \"C:\\eSolutions\\Agent\\logs\\service_err.log\"\nnssm start EsMonitorAgent\n</code></pre>"},{"location":"deployment_guide/#core-service","title":"Core Service","text":"<pre><code>nssm install EsMonitorCore \"C:\\eSolutions\\Core\\EsMonitorCore.exe\"\nnssm set EsMonitorCore AppDirectory \"C:\\eSolutions\\Core\"\nnssm set EsMonitorCore AppStdout \"C:\\eSolutions\\Core\\logs\\service_out.log\"\nnssm set EsMonitorCore AppStderr \"C:\\eSolutions\\Core\\logs\\service_err.log\"\nnssm start EsMonitorCore\n</code></pre>"},{"location":"deployment_guide/#checking-logs","title":"Checking Logs","text":"<p>When running as a service, output is written to log files in the <code>logs\\</code> directory.</p> Component Log File Path Agent <code>C:\\eSolutions\\Agent\\logs\\agent.log</code> Core <code>C:\\eSolutions\\Core\\logs\\core.log</code> <p>Troubleshooting Commands: <pre><code># Tail the agent log\nGet-Content C:\\eSolutions\\Agent\\logs\\agent.log -Wait -Tail 20\n\n# Tail the core log\nGet-Content C:\\eSolutions\\Core\\logs\\core.log -Wait -Tail 20\n</code></pre></p>"},{"location":"deployment_guide/#prerequisites-per-server","title":"Prerequisites per Server","text":"Server Requirement Core Windows Server 2016+ or RHEL 7+, Inbound TCP 8443 Agent Windows Server 2016+ or RHEL 7+, Outbound TCP 8443 Agent (JMX) Java JDK 8+ on the Maximo server"},{"location":"deployment_guide/#troubleshooting","title":"Troubleshooting","text":"Symptom Fix <code>Failed to connect to Core</code> Check firewall, verify Core IP in config.json <code>JMX query timed out</code> Verify WAS admin port (9060), check JMX is enabled <code>Java not found</code> Install JDK 8+ and add to PATH Dashboard shows 0 hosts Agent not sending \u2014 check config.json core_url Port 8443 in use Change port in config.yaml"},{"location":"gap_analysis_report/","title":"Documentation vs Implementation \u2014 Gap Analysis Report","text":"<p>Audit Date: 2026-02-14 Auditor: Technical Review (AI-Assisted) Scope: All 27 documentation pages in <code>EsMonitorDocs/docs/</code> vs actual codebase in <code>EsMonitor/</code></p>"},{"location":"gap_analysis_report/#executive-summary","title":"Executive Summary","text":"<p>The eSolutions Monitoring Platform documentation describes a Tier 3 enterprise-grade monitoring system with features like TLS encryption, Active Directory authentication, RabbitMQ message queues, Celery workers, PostgreSQL clusters, Docker deployment, React dashboards, HashiCorp Vault integration, and Collector proxy nodes.</p> <p>The actual implementation is a Tier 1 MVP: a FastAPI + SQLite application with a single-file HTML dashboard, a Python agent using <code>psutil</code>, and a basic JMX bridge. Many documented features do not exist in the codebase.</p> Category Documented Features Actually Implemented Gap Rate Security &amp; Encryption 7 0 \ud83d\udd34 100% Infrastructure (Collectors, HA, DR) 8 0 \ud83d\udd34 100% Monitoring Scope 18 metrics/probes 5 \ud83d\udd34 72% Dashboard Views 4 dashboards 1 \ud83d\udfe1 75% Alerting &amp; Notifications 6 channels 1 \ud83d\udfe1 83% Core Engine Components 7 components 3 \ud83d\udfe1 57% Deployment &amp; Packaging 6 methods 1 \ud83d\udd34 83%"},{"location":"gap_analysis_report/#category-1-critical-security-hardening-100-gap","title":"Category 1: \ud83d\udd34 CRITICAL \u2014 Security &amp; Hardening (100% Gap)","text":"<p>Documentation: <code>security/hardening.md</code> Claims: TLS 1.3, Active Directory/LDAP authentication, certificate-based agent auth, encrypted vault (<code>esol-vault</code>), least-privilege service accounts.</p>"},{"location":"gap_analysis_report/#findings","title":"Findings","text":"Documented Feature Implementation Status Evidence TLS 1.3 encryption in transit \u274c Not implemented Core runs plain HTTP on port 8444. No TLS config in <code>run_core.py</code> or <code>main.py</code>. Agent <code>config.json</code> uses <code>http://</code> URLs. Active Directory / LDAP auth \u274c Not implemented No authentication on any API endpoint. Dashboard is public. No auth middleware in <code>main.py</code>. Certificate-based agent auth \u274c Not implemented Agent uses plain HTTP POST with no authentication. No certificate generation or validation code exists. Encrypted Vault (<code>esol-vault</code>) \u274c Not implemented No vault CLI tool. Passwords stored in plaintext in <code>config.yaml</code> and <code>config.json</code>. <code>esol_agent</code> / <code>Network Service</code> user \u274c Not implemented No service account setup. Agent runs as the executing user. <p>Risk: The entire system runs unauthenticated over HTTP. Any network actor can ingest fake metrics, read all alerts, or access the dashboard. This is misleading for enterprise audit contexts.</p>"},{"location":"gap_analysis_report/#category-2-critical-infrastructure-components-100-gap","title":"Category 2: \ud83d\udd34 CRITICAL \u2014 Infrastructure Components (100% Gap)","text":""},{"location":"gap_analysis_report/#collectors-documented-in-5-pages-never-built","title":"Collectors (Documented in 5+ pages, Never Built)","text":"<p>Documented in: <code>architecture/overview.md</code>, <code>architecture/components.md</code>, <code>architecture/scaling.md</code>, <code>implementation/workflow.md</code>, <code>implementation/requirements.md</code></p> Documented Feature Status eSolutions Collectors (data concentrators) \u274c No code exists \u2014 no <code>collector/</code> directory, no collector binary, no collector config 24h data buffering during outages \u274c Not implemented Collector-to-Core TLS tunnels \u274c Not implemented Collector-per-security-zone deployment \u274c Not implemented <p>The architecture diagram shows <code>Agent \u2192 Collector \u2192 Core</code>. In reality, Agents connect directly to Core. The Collector component is entirely aspirational.</p>"},{"location":"gap_analysis_report/#high-availability-disaster-recovery","title":"High Availability &amp; Disaster Recovery","text":"<p>Documented in: <code>maintenance/backup_dr.md</code>, <code>architecture/scaling.md</code></p> Documented Feature Status Active/Standby Core failover \u274c Not implemented <code>esol-admin backup</code> CLI utility \u274c Not implemented \u2014 no <code>esol-admin</code> binary exists S3 backup integration \u274c Not implemented DNS-based DR switchover \u274c Not implemented Collector failover (primary/secondary Core IPs) \u274c Not implemented (Collectors don't exist)"},{"location":"gap_analysis_report/#category-3-major-monitoring-scope-gaps","title":"Category 3: \ud83d\udfe1 MAJOR \u2014 Monitoring Scope Gaps","text":""},{"location":"gap_analysis_report/#os-monitoring-monitoringosmd","title":"OS Monitoring (<code>monitoring/os.md</code>)","text":"Doc Metric Key Implemented Key Status <code>os.cpu.total_usage_pct</code> <code>os.cpu.usage</code> \u26a0\ufe0f Key name mismatch <code>os.mem.available_mb</code> <code>os.memory.percent</code> / <code>os.memory.used_mb</code> \u26a0\ufe0f Different metric (doc says MB available, code sends % used) <code>os.swap.usage_pct</code> \u2014 \u274c Not implemented <code>os.disk.volume.free_pct</code> <code>os.disk.usage_percent</code> \u26a0\ufe0f Key name mismatch and inverted logic (doc says \"free %\", code sends \"used %\") <code>os.service.status[name]</code> \u2014 \u274c Not implemented \u2014 no service monitoring <code>os.log.grep[path, pattern]</code> \u2014 \u274c Not implemented \u2014 no log tailing"},{"location":"gap_analysis_report/#maximo-monitoring-monitoringmaximomd","title":"Maximo Monitoring (<code>monitoring/maximo.md</code>)","text":"Doc Feature Status Synthetic UX probe (<code>ux.scenario.login_flow</code>) \u274c Not implemented Cron Task Validator (<code>maximo.cron.stale_count</code>) \u274c Not implemented Escalation Engine (<code>maximo.escalation.backlog</code>) \u274c Not implemented UI Reachability (<code>net.http.check</code>) with SSL validation \u274c Not implemented JMX metrics (heap, threads, sessions, cron) \u2705 Partially implemented \u2014 heap + threads work via <code>JmxBridge.jar</code>. Session count (<code>maximo.web.sessions</code>) and cron MBean (<code>maximo.cron.active</code>) not tested/verified."},{"location":"gap_analysis_report/#websphere-monitoring-monitoringwebspheremd","title":"WebSphere Monitoring (<code>monitoring/websphere.md</code>)","text":"Doc Metric Status <code>ibm.was.jvm.heap.percent_used</code> \u274c Not implemented \u2014 JMX collector uses <code>maximo.jvm.heap.used</code> (different key, raw bytes not %) <code>ibm.was.jvm.gc.time_spent</code> \u274c Not implemented <code>ibm.was.threads.webcontainer.active/max</code> \u274c Not implemented <code>ibm.was.jdbc.free_connections</code> \u274c Not implemented <code>ibm.was.jdbc.wait_time_ms</code> \u274c Not implemented <code>security.cert.expiry_days</code> (SSL cert probe) \u274c Not implemented"},{"location":"gap_analysis_report/#db2-monitoring-monitoringdb2md","title":"DB2 Monitoring (<code>monitoring/db2.md</code>)","text":"Doc Metric Status <code>ibm.db2.connections.active</code> \u274c Not implemented \u2014 no DB2 collector code exists <code>ibm.db2.locks.deadlocks</code> \u274c Not implemented <code>ibm.db2.tablespace.usage_pct</code> \u274c Not implemented <code>ibm.db2.logs.primary_usage</code> \u274c Not implemented <code>ibm.db2.maintenance.last_backup_age_hours</code> \u274c Not implemented <p>The entire DB2 monitoring module is documented but has zero implementation. There is no <code>db2.py</code> collector, no <code>ibm_db</code> dependency in <code>requirements.txt</code>, and no DB2-related code anywhere in the codebase.</p>"},{"location":"gap_analysis_report/#category-4-major-technology-stack-misrepresentations","title":"Category 4: \ud83d\udfe1 MAJOR \u2014 Technology Stack Misrepresentations","text":"<p>File: <code>implementation/technology_stack.md</code></p> Documented Technology Actual Implementation Celery + Redis (distributed task queue) \u274c Not used \u2014 alert evaluation is synchronous in the API request cycle RabbitMQ 3.12 (message queue) \u274c Not used \u2014 no queue exists PostgreSQL 15 (production DB) \u274c Not used \u2014 SQLite only TimescaleDB extension \u274c Not used React 18 + TypeScript + Material-UI (dashboard) \u274c Not used \u2014 dashboard is a single <code>index.html</code> with Alpine.js + Tailwind CDN Apache ECharts / Plotly.js (charting) \u274c Not used \u2014 gauges are hand-coded SVG circles WebSockets (<code>/ws/realtime</code>) \u274c Not used \u2014 dashboard polls REST API every 5s OAuth2 / SAML 2.0 auth \u274c Not used \u2014 no authentication Docker deployment \u274c Not used \u2014 PyInstaller EXE packaging only HashiCorp Vault \u274c Not used <code>cryptography</code> library (TLS) \u274c Not in requirements.txt <code>ibm_db</code> (DB2 driver) \u274c Not in requirements.txt <code>jpype1</code> (Java bridge) \u274c Not used \u2014 subprocess calls to <code>java -jar</code> instead <code>pywin32</code> / <code>wmi</code> (Windows probes) \u274c Not used JSON Schema config validation \u274c Not implemented"},{"location":"gap_analysis_report/#actual-dependencies-requirementstxt","title":"Actual Dependencies (<code>requirements.txt</code>)","text":"<pre><code>fastapi\nuvicorn[standard]\nsqlalchemy\npydantic\npyyaml\npsutil\nrequests\n</code></pre> <p>The documented tech stack describes an enterprise platform with 15+ dependencies. The actual <code>requirements.txt</code> has 7 packages. The gap is extreme.</p>"},{"location":"gap_analysis_report/#category-5-major-dashboard-gaps","title":"Category 5: \ud83d\udfe1 MAJOR \u2014 Dashboard Gaps","text":"<p>File: <code>platform_config/dashboards.md</code></p> Dashboard Doc Status Implementation DASH-001: Operations Dashboard \u2705 Documented as implemented \u2705 Actually implemented DASH-002: Executive / CIO View \ud83d\udd34 Documented as planned \u274c Not implemented DASH-003: NOC Operations Center \ud83d\udd34 Documented as planned \u274c Not implemented DASH-004: Engineer / SRE View \ud83d\udd34 Documented as planned \u274c Not implemented DASH-005: Host Drill-Down \u2705 Documented as implemented \u2705 Actually implemented <p>DASH-001 and DASH-005 documentation is accurate and matches the implementation. This is the strongest alignment in the entire project.</p>"},{"location":"gap_analysis_report/#category-6-major-alerting-gaps","title":"Category 6: \ud83d\udfe1 MAJOR \u2014 Alerting Gaps","text":"<p>File: <code>operations/alerting.md</code></p> Feature Status Severity model (info/warning/critical/very_critical) \u2705 Implemented Default alert rules (CPU, Memory, Disk) \u2705 Implemented Email notifications (SMTP) for very_critical \u2705 Implemented Microsoft Teams Webhooks \u274c Not implemented (correctly marked \ud83d\udd34 in docs) Escalation Chain (SMS at T+15m, Manager at T+60m) \u274c Not implemented (correctly marked \ud83d\udd34) Work Hours routing \u274c Not implemented (correctly marked \ud83d\udd34) Alert Acknowledgment \u274c Not implemented (correctly marked \ud83d\udd34) <p>Positive: The <code>operations/alerting.md</code> page is the best-documented page in the project. It clearly marks planned vs. implemented features. This pattern should be replicated across all other pages.</p>"},{"location":"gap_analysis_report/#category-7-metric-key-inconsistencies","title":"Category 7: \ud83d\udfe1 Metric Key Inconsistencies","text":"<p>The documentation uses different metric key names than the actual code:</p> Location Doc Key Code Key Impact <code>monitoring/os.md</code> <code>os.cpu.total_usage_pct</code> <code>os.cpu.usage</code> Alert rules reference code key, not doc key <code>monitoring/os.md</code> <code>os.mem.available_mb</code> <code>os.memory.percent</code> Completely different metric (MB vs %) <code>monitoring/os.md</code> <code>os.disk.volume.free_pct</code> <code>os.disk.usage_percent</code> Inverted: \"free\" vs \"used\" <code>getting_started.md</code> <code>os.memory.usage_percent</code> <code>os.memory.percent</code> Code example differs from implementation <code>monitoring/websphere.md</code> <code>ibm.was.jvm.heap.percent_used</code> <code>maximo.jvm.heap.used</code> Different namespace and unit <code>operations/alerting.md</code> <code>os.memory.percent</code> <code>os.memory.percent</code> \u2705 Correct <code>operations/alerting.md</code> <code>os.cpu.usage</code> <code>os.cpu.usage</code> \u2705 Correct"},{"location":"gap_analysis_report/#category-8-mkdocs-rendering-issues","title":"Category 8: \ud83d\udd34 MkDocs Rendering Issues","text":""},{"location":"gap_analysis_report/#broken-navigation-items","title":"Broken Navigation Items","text":"Nav Entry File Referenced Issue <code>Documentation Alignment &gt; Implementation Gap</code> <code>tooling/implementation_gap.yaml</code> \u26a0\ufe0f YAML file \u2014 MkDocs cannot render <code>.yaml</code> as a documentation page. Clicking this link will fail or show raw YAML. <code>Documentation Alignment &gt; Tooling Overview</code> <code>tooling/index.md</code> \u26a0\ufe0f Links to <code>mcp-server/tools/gap_tracker.py</code> which is a relative path from a different directory \u2014 link will 404."},{"location":"gap_analysis_report/#orphaned-pages-exist-but-not-in-nav","title":"Orphaned Pages (exist but not in nav)","text":"<p>The <code>docs/installation/</code> directory contains 3 pages not listed in <code>mkdocs.yml</code>: - <code>installation/core.md</code> - <code>installation/agents.md</code> - <code>installation/collectors.md</code></p> <p>These are inaccessible through navigation \u2014 users cannot find them unless they know the URL.</p>"},{"location":"gap_analysis_report/#content-rendering-issues","title":"Content Rendering Issues","text":"Page Issue <code>operations/runbook.md</code> Uses MkDocs <code>===</code> tabbed content syntax (<code>=== \"Maximo / WebSphere (Linux)\"</code>) \u2014 requires <code>pymdownx.tabbed</code> extension which is not configured in <code>mkdocs.yml</code>. Tabs will render as plain text. <code>architecture/scaling.md</code> Uses Mermaid diagrams (<code>mermaid</code> code blocks) \u2014 requires <code>pymdownx.superfences</code> with Mermaid plugin which is not configured in <code>mkdocs.yml</code>. Diagrams will render as code blocks."},{"location":"gap_analysis_report/#category-9-documentation-internal-contradictions","title":"Category 9: \ud83d\udfe1 Documentation Internal Contradictions","text":"Page A Says Page B Says Conflict <code>getting_started.md</code> L9 \"PostgreSQL 15+\" required <code>getting_started.md</code> L23 \"SQLite for zero-config\" Same page contradicts itself <code>getting_started.md</code> L20 \"Node.js 18+ for dashboard\" Actual dashboard Single HTML file, no Node.js Node.js is not needed <code>getting_started.md</code> L39-41 <code>web/backend/</code> + <code>web/frontend/</code> (React) Actual structure <code>core/web/static/index.html</code> Project structure is wrong <code>architecture/components.md</code> L9 \"PostgreSQL (recommended) or MySQL\" <code>core/config.yaml</code> SQLite only Database choice misrepresented <code>architecture/components.md</code> L26 \"internal Go runtime\" All code Python 3.11 Language is completely wrong \u2014 docs say Go, code is Python <code>architecture/compatibility.md</code> L20 \"AIX 7.1, 7.2 PowerPC binaries\" Agent code Python + psutil (no AIX support) AIX is not supported <code>architecture/compatibility.md</code> L17 \"MSI Installer available\" Actual packaging PyInstaller <code>.exe</code> No MSI installer exists <code>implementation/technology_stack.md</code> L33 \"React 18 + TypeScript + Material-UI\" Dashboard Alpine.js + Tailwind CDN Completely different stack <code>implementation/requirements.md</code> L6 \"proprietary encrypted protocol\" Agent transport Plain HTTP JSON POST No proprietary protocol exists <code>platform_config/metrics.md</code> L25-33 \"Hysteresis with recovery delta\" Alert engine code Simple threshold comparison No hysteresis implemented"},{"location":"gap_analysis_report/#category-10-custom-extensions-probe-api","title":"Category 10: Custom Extensions (Probe API)","text":"<p>File: <code>custom_monitoring/scripts.md</code></p> Feature Status Probe Extension API \u274c Not implemented \u2014 no <code>probes</code> section parsing in agent code <code>agent_config.json</code> probes section \u274c Not implemented \u2014 <code>config.json</code> has no <code>probes</code> key PowerShell script execution \u274c Not implemented Bash script execution \u274c Not implemented"},{"location":"gap_analysis_report/#recommendations-prioritized","title":"Recommendations (Prioritized)","text":""},{"location":"gap_analysis_report/#p0-fix-immediately-misleading-for-audits","title":"\ud83d\udd34 P0 \u2014 Fix Immediately (Misleading for Audits)","text":"<ol> <li> <p><code>security/hardening.md</code>: Rewrite entirely. Add a clear \"Current Status\" section stating that TLS, authentication, and vault are not yet implemented. A client or auditor reading this page would believe the system is secure \u2014 it is not.</p> </li> <li> <p><code>architecture/components.md</code> L26: Remove \"internal Go runtime\" \u2014 the platform is Python. This is factually incorrect.</p> </li> <li> <p><code>implementation/technology_stack.md</code>: Add a \"Current State\" vs \"Target Architecture\" split. The page currently presents aspirational tech (Celery, RabbitMQ, React, Redis) as if it exists.</p> </li> <li> <p><code>getting_started.md</code> L9, L20, L39-41: Remove PostgreSQL and Node.js prerequisites. Fix the project structure diagram to match reality.</p> </li> </ol>"},{"location":"gap_analysis_report/#p1-fix-before-next-release","title":"\ud83d\udfe1 P1 \u2014 Fix Before Next Release","text":"<ol> <li> <p><code>monitoring/os.md</code>: Update metric keys to match the actual code (<code>os.cpu.usage</code>, <code>os.memory.percent</code>, <code>os.disk.usage_percent</code>).</p> </li> <li> <p><code>monitoring/db2.md</code> and <code>monitoring/websphere.md</code>: Add clear \"\ud83d\udd34 Not Implemented\" status markers to every metric, following the pattern used in <code>operations/alerting.md</code>.</p> </li> <li> <p><code>mkdocs.yml</code>: </p> </li> <li>Add <code>pymdownx.tabbed</code> and <code>pymdownx.superfences</code> extensions for tab and mermaid rendering.</li> <li>Change <code>tooling/implementation_gap.yaml</code> nav entry to link to the <code>tooling/index.md</code> page instead.</li> <li> <p>Add the 3 orphaned <code>installation/*.md</code> pages to the nav.</p> </li> <li> <p><code>maintenance/backup_dr.md</code>: Mark all content as \"Planned\" \u2014 the <code>esol-admin</code> tool and S3 backup do not exist.</p> </li> </ol>"},{"location":"gap_analysis_report/#p2-improvement","title":"\ud83d\udfe2 P2 \u2014 Improvement","text":"<ol> <li> <p>Adopt the <code>alerting.md</code> pattern everywhere: Every page should have a \"Implemented \u2705 / Planned \ud83d\udd34\" status column. This page is the gold standard.</p> </li> <li> <p><code>implementation/python_guide.md</code>: Update code examples to match actual <code>core/api/main.py</code>, <code>core/engine/alerts.py</code>, and <code>agent/agent.py</code>. The documented code examples use classes and patterns (e.g., <code>MetricsEngine</code>, async/await, <code>CollectorClient</code>) that do not exist.</p> </li> </ol>"},{"location":"gap_analysis_report/#summary-scorecard","title":"Summary Scorecard","text":"Documentation Area Accuracy Score Notes <code>operations/alerting.md</code> 9/10 \u2705 Best page. Honest status markers. <code>platform_config/dashboards.md</code> 8/10 \u2705 Good. Clear \"Planned\" section. <code>deployment_guide.md</code> 7/10 \u2705 Mostly accurate for Tier 1 MVP. <code>getting_started.md</code> 5/10 \u26a0\ufe0f Contradictions (PostgreSQL vs SQLite). <code>monitoring/maximo.md</code> 4/10 \u26a0\ufe0f JMX partially works. Synthetic probes don't. <code>architecture/overview.md</code> 3/10 \ud83d\udd34 Collectors don't exist. Network flow is wrong. <code>security/hardening.md</code> 1/10 \ud83d\udd34 Nothing described is implemented. <code>implementation/technology_stack.md</code> 1/10 \ud83d\udd34 Almost entirely aspirational. <code>implementation/python_guide.md</code> 1/10 \ud83d\udd34 Code examples don't match any real file. <code>architecture/compatibility.md</code> 2/10 \ud83d\udd34 Claims AIX, RPM, DEB, MSI, Go runtime \u2014 none exist. <code>maintenance/backup_dr.md</code> 1/10 \ud83d\udd34 Entire page is fiction. <code>monitoring/db2.md</code> 0/10 \ud83d\udd34 Zero implementation. No code, no driver. <code>monitoring/websphere.md</code> 1/10 \ud83d\udd34 Metric keys don't match. Most not collected. <p>Overall Documentation Accuracy: ~30% Only 3 of 27 pages can be considered reliable.</p>"},{"location":"getting_started/","title":"Getting Started - MVP Implementation","text":"<p>This guide walks through building the Minimum Viable Product (MVP) of the eSolutions Monitoring Platform.</p>"},{"location":"getting_started/#what-youll-have","title":"What You'll Have","text":"<p>By the end of this guide, you will have: - \u2705 A working Core API that ingests metrics - \u2705 An SQLite database storing metric data (zero configuration) - \u2705 A Python agent collecting system metrics (CPU, RAM, Disk, Network) - \u2705 Alert evaluation with severity levels (warning, critical, very_critical) - \u2705 Email notifications for very_critical alerts - \u2705 A real-time web dashboard with gauges and alert tables</p>"},{"location":"getting_started/#prerequisites","title":"Prerequisites","text":""},{"location":"getting_started/#development-machine","title":"Development Machine","text":"<ul> <li>Python 3.11+</li> <li>Git</li> <li>Java JDK 8+ (only if using Maximo JMX monitoring)</li> </ul>"},{"location":"getting_started/#target-servers-for-deployment","title":"Target Servers (for deployment)","text":"<ul> <li>No Python required \u2014 Agent and Core are packaged as standalone <code>.exe</code> files via PyInstaller</li> <li>Windows Server 2016+ or RHEL 7+</li> <li>Network: Agent must be able to reach Core on TCP port 8444</li> </ul>"},{"location":"getting_started/#database","title":"Database","text":"<p>The platform uses SQLite for zero-configuration storage. No database installation is required. The database file is automatically created at <code>core/database/es_monitor.db</code> on first startup.</p>"},{"location":"getting_started/#project-structure","title":"Project Structure","text":"<pre><code>EsMonitor/\n\u251c\u2500\u2500 core/                   # Core Engine (Central Server)\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2514\u2500\u2500 main.py        # FastAPI application + REST endpoints\n\u2502   \u251c\u2500\u2500 database/\n\u2502   \u2502   \u251c\u2500\u2500 connection.py  # SQLite connection management\n\u2502   \u2502   \u2514\u2500\u2500 models.py      # SQLAlchemy models (Metric, AlertRule, AlertHistory)\n\u2502   \u251c\u2500\u2500 engine/\n\u2502   \u2502   \u251c\u2500\u2500 alerts.py      # Alert evaluation engine\n\u2502   \u2502   \u2514\u2500\u2500 notifier.py    # Email notification sender\n\u2502   \u251c\u2500\u2500 web/\n\u2502   \u2502   \u2514\u2500\u2500 static/\n\u2502   \u2502       \u2514\u2500\u2500 index.html # Dashboard (Alpine.js + Tailwind CSS)\n\u2502   \u2514\u2500\u2500 config.yaml        # Core configuration (API port, SMTP settings)\n\u2502\n\u251c\u2500\u2500 agent/                  # Agent (runs on monitored servers)\n\u2502   \u251c\u2500\u2500 collectors/\n\u2502   \u2502   \u251c\u2500\u2500 base.py        # Base collector class\n\u2502   \u2502   \u251c\u2500\u2500 system.py      # CPU, Memory, Disk, Network collectors\n\u2502   \u2502   \u2514\u2500\u2500 maximo.py      # JMX collector for Maximo/WebSphere\n\u2502   \u251c\u2500\u2500 agent.py           # Main agent loop\n\u2502   \u2514\u2500\u2500 config.json        # Agent configuration (core URL, collectors)\n\u2502\n\u251c\u2500\u2500 build_all.bat           # Build script (produces standalone EXEs)\n\u251c\u2500\u2500 start_core.bat          # Start the Core (development)\n\u251c\u2500\u2500 start_agent.bat         # Start the Agent (development)\n\u2514\u2500\u2500 requirements.txt        # Python dependencies\n</code></pre>"},{"location":"getting_started/#phase-1-core-api-days-1-3","title":"Phase 1: Core API (Days 1-3)","text":""},{"location":"getting_started/#step-1-initialize-project","title":"Step 1: Initialize Project","text":"<pre><code>cd EsMonitor\n\n# Create Python virtual environment\npython -m venv venv\n\n# Activate\n# Windows:\nvenv\\Scripts\\activate\n# Linux/Mac:\nsource venv/bin/activate\n</code></pre>"},{"location":"getting_started/#step-2-install-dependencies","title":"Step 2: Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre> <p>The <code>requirements.txt</code> contains: <pre><code>fastapi\nuvicorn[standard]\nsqlalchemy\npydantic\npyyaml\npsutil\nrequests\n</code></pre></p>"},{"location":"getting_started/#step-3-configure-core","title":"Step 3: Configure Core","text":"<p>The configuration in <code>core/config.yaml</code> is pre-configured for local development: <pre><code>database:\n  type: sqlite\n  name: es_monitor.db\n\napi:\n  host: 0.0.0.0\n  port: 8444\n  workers: 4\n</code></pre></p>"},{"location":"getting_started/#step-4-run-the-core-api","title":"Step 4: Run the Core API","text":"<pre><code># From EsMonitor directory\nuvicorn core.api.main:app --host 0.0.0.0 --port 8444 --reload\n</code></pre> <p>Or use the batch file: <pre><code>.\\start_core.bat\n</code></pre></p> <p>Test it: <pre><code>curl http://localhost:8444/\n</code></pre></p> <p>Expected response: <pre><code>{\"status\": \"running\", \"service\": \"eSolutions Core\"}\n</code></pre></p>"},{"location":"getting_started/#step-5-open-the-dashboard","title":"Step 5: Open the Dashboard","text":"<p>Open your browser to: <code>http://localhost:8444/dashboard</code></p> <p>You should see the monitoring dashboard with stat cards and an empty host table.</p>"},{"location":"getting_started/#phase-2-agent-days-4-6","title":"Phase 2: Agent (Days 4-6)","text":""},{"location":"getting_started/#step-1-configure-the-agent","title":"Step 1: Configure the Agent","text":"<p>Edit <code>agent/config.json</code>: <pre><code>{\n    \"core_url\": \"http://localhost:8444\",\n    \"tenant_id\": \"default\",\n    \"hostname\": \"auto\",\n    \"interval\": 60,\n    \"collectors\": {\n        \"cpu\": true,\n        \"memory\": true,\n        \"disk\": true,\n        \"network\": false\n    },\n    \"maximo\": {\n        \"enabled\": false,\n        \"protocol\": \"iiop\",\n        \"host\": \"localhost\",\n        \"port\": 9060,\n        \"username\": \"wasadmin\",\n        \"password\": \"wasadmin\"\n    }\n}\n</code></pre></p> Field Description <code>core_url</code> URL of the Core API server <code>tenant_id</code> Client identifier for multi-tenancy <code>hostname</code> Set to <code>\"auto\"</code> to use the machine hostname <code>interval</code> Metric collection interval in seconds <code>collectors</code> Enable/disable individual metric collectors <code>maximo.enabled</code> Set <code>true</code> on Maximo/WAS servers with JMX access"},{"location":"getting_started/#step-2-run-the-agent","title":"Step 2: Run the Agent","text":"<pre><code># From EsMonitor directory\npython -m agent.agent\n</code></pre> <p>Or use the batch file: <pre><code>.\\start_agent.bat\n</code></pre></p> <p>Expected output: <pre><code>============================================================\neSolutions Monitoring Agent\n============================================================\nHostname:     YOUR-HOSTNAME\nCore URL:     http://localhost:8444\nCollectors:   3 enabled\n============================================================\n[OK] Sent 7 metrics to Core\n</code></pre></p>"},{"location":"getting_started/#verification","title":"Verification","text":""},{"location":"getting_started/#dashboard","title":"Dashboard","text":"<p>Refresh <code>http://localhost:8444/dashboard</code> \u2014 you should see: - Monitored Hosts: 1 - Active Alerts: Count based on current thresholds - System Health: Green (Healthy), Yellow (Warning), or Red (Critical) - Click your hostname to see CPU, Memory, and Disk gauges</p>"},{"location":"getting_started/#api-endpoints","title":"API Endpoints","text":"<pre><code># Check system status\ncurl http://localhost:8444/\n\n# List monitored hosts\ncurl http://localhost:8444/api/v1/metrics/summary\n\n# Get latest metrics for a host\ncurl http://localhost:8444/api/v1/metrics/latest/YOUR-HOSTNAME\n\n# View active alerts\ncurl http://localhost:8444/api/v1/alerts\n</code></pre>"},{"location":"getting_started/#next-steps","title":"Next Steps","text":"<p>Once you have metrics flowing: 1. Configure email notifications in <code>config.yaml</code> (see Alerting Rules) 2. Enable Maximo JMX monitoring on WAS servers (see Maximo Metrics) 3. Package as executables for deployment (see Deployment Guide) 4. Deploy to production servers (no Python required on targets)</p>"},{"location":"architecture/compatibility/","title":"OS Compatibility Matrix","text":"<p>The eSolutions Monitoring Platform is built with Python and packaged as standalone executables.</p> <p>This page documents verified and planned platform support. Items marked \u2705 are tested; items marked \ud83d\udd34 are planned.</p>"},{"location":"architecture/compatibility/#monitoring-core","title":"Monitoring Core","text":"Operating System Version Status Packaging Notes Windows 10, 11, Server 2016-2022 \u2705 Verified PyInstaller <code>.exe</code> Primary development platform Red Hat Enterprise Linux 8.x, 9.x \ud83d\udfe1 Expected PyInstaller binary Python psutil supports RHEL; not yet tested Ubuntu LTS 20.04, 22.04 \ud83d\udfe1 Expected PyInstaller binary Python psutil supports Ubuntu; not yet tested"},{"location":"architecture/compatibility/#esolutions-agent","title":"eSolutions Agent","text":"Operating System Versions Status Notes Windows 10, 11, Server 2016-2022 \u2705 Verified Standalone <code>.exe</code> via PyInstaller RHEL / CentOS 7, 8, 9 \ud83d\udfe1 Expected Requires Linux build of PyInstaller binary Ubuntu / Debian 18.04+ \ud83d\udfe1 Expected Requires Linux build of PyInstaller binary AIX 7.1, 7.2 \ud83d\udd34 Not Supported No PowerPC binaries; would require <code>psutil</code> AIX build"},{"location":"architecture/compatibility/#packaging-formats","title":"Packaging Formats","text":"Format Status Notes PyInstaller <code>.exe</code> (Windows) \u2705 Implemented <code>build_all.bat</code> produces <code>EsMonitorCore.exe</code> and <code>EsMonitorAgent.exe</code> PyInstaller binary (Linux) \ud83d\udd34 Not Built Yet Requires building on a Linux machine MSI Installer (Windows) \ud83d\udd34 Not Implemented Planned for enterprise rollout via SCCM/GPO RPM Package (RHEL/CentOS) \ud83d\udd34 Not Implemented Planned for Ansible-based deployment DEB Package (Ubuntu/Debian) \ud83d\udd34 Not Implemented Planned Docker Container \ud83d\udd34 Not Implemented Planned for cloud deployments"},{"location":"architecture/compatibility/#runtime-dependencies","title":"Runtime Dependencies","text":""},{"location":"architecture/compatibility/#target-servers-agent","title":"Target Servers (Agent)","text":"Dependency Required? Notes Python \u274c Not required Agent is packaged as standalone executable Java JDK 8+ Only for JMX Required only if Maximo/WebSphere JMX monitoring is enabled"},{"location":"architecture/compatibility/#core-server","title":"Core Server","text":"Dependency Required? Notes Python \u274c Not required Core is packaged as standalone executable PostgreSQL \u274c Not required Core uses SQLite (file-based, zero-config) Web Server \u274c Not required FastAPI serves the dashboard directly"},{"location":"architecture/compatibility/#network-requirements","title":"Network Requirements","text":"Source Destination Port Protocol Required Agent Core 8444 TCP (HTTP) \u2705 Required Browser Core 8444 TCP (HTTP) \u2705 For dashboard access Core SMTP Server 587 TCP (TLS) Only if email alerts enabled"},{"location":"architecture/components/","title":"Platform Components","text":""},{"location":"architecture/components/#esolutions-monitoring-core-server","title":"eSolutions Monitoring Core (Server)","text":"<p>The central hub handling data processing, alerting, and visualization.</p> Aspect Current Implementation Language Python 3.11+ Framework FastAPI Database SQLite (file-based, zero-config) Dashboard HTML5 + Alpine.js + Tailwind CSS (served by Core) Alert Engine Synchronous rule evaluation on metric ingestion Notifications Email (SMTP) for very_critical severity Packaging PyInstaller standalone <code>.exe</code> OS Verified Windows 10/11, Windows Server 2016-2022"},{"location":"architecture/components/#esolutions-agent","title":"eSolutions Agent","text":"<p>The endpoint data gatherer, installed on each monitored server.</p> Aspect Current Implementation Language Python 3.11+ (packaged as standalone <code>.exe</code>) System Metrics CPU, Memory, Disk, Network (via <code>psutil</code>) JMX Metrics Maximo/WebSphere MBeans (via <code>JmxBridge.jar</code>) Transport HTTP POST to Core API Packaging PyInstaller standalone <code>.exe</code> OS Verified Windows 10/11, Windows Server 2016-2022"},{"location":"architecture/components/#collected-metrics","title":"Collected Metrics","text":"Metric Key Source Description <code>os.cpu.usage</code> psutil CPU utilization percentage <code>os.memory.percent</code> psutil RAM usage percentage <code>os.memory.used_mb</code> psutil RAM used in MB <code>os.memory.total_mb</code> psutil Total RAM in MB <code>os.disk.usage_percent</code> psutil Disk usage per partition <code>os.disk.used_gb</code> psutil Disk used in GB per partition <code>os.disk.total_gb</code> psutil Total disk in GB per partition <code>os.network.bytes_sent</code> psutil Network bytes sent <code>os.network.bytes_recv</code> psutil Network bytes received <code>maximo.jvm.heap.used</code> JMX JVM heap memory used <code>maximo.jvm.heap.max</code> JMX JVM heap memory max <code>maximo.jvm.threads.active</code> JMX Active JVM thread count <code>maximo.jvm.classes.loaded</code> JMX Loaded class count <code>maximo.jvm.cpu.process</code> JMX JVM process CPU load"},{"location":"architecture/components/#esolutions-collector","title":"eSolutions Collector","text":"<p>Acts as a data concentrator and buffer between agents and core.</p> Aspect Status Implementation \ud83d\udd34 Not Yet Built Purpose Offload polling, buffer data during outages, bridge network zones Planned Deployment One per security zone (App Zone, DB Zone) <p>Current Architecture: Agents connect directly to the Core API. The Collector component is planned for Tier 2 (multi-site) deployments and does not exist in the current codebase.</p>"},{"location":"architecture/components/#dashboard-service","title":"Dashboard Service","text":"<p>The web-based visualization layer.</p> Aspect Current Implementation Technology HTML5 + Alpine.js + Tailwind CSS (CDN) Served By FastAPI <code>StaticFiles</code> (no separate web server) Access <code>http://CORE-IP:8444/dashboard</code> Features Host overview, metric gauges, alert table, tenant filtering, dark mode Refresh Auto-refresh every 5 seconds via REST API polling Authentication \ud83d\udd34 None (publicly accessible)"},{"location":"architecture/overview/","title":"eSolutions Monitoring Platform Overview","text":"<p>The eSolutions Monitoring Platform is a unified, enterprise-grade observability solution designed for eSolutions clients. It provides comprehensive visibility into the health and performance of IBM Maximo environments, ensuring stability for mission-critical operations.</p>"},{"location":"architecture/overview/#high-level-design","title":"High Level Design","text":"<p>The platform uses a distributed architecture to scale across hybrid environments (On-Premise, Cloud, and Multi-Site).</p> <ul> <li>eSolutions Monitoring Core: The central brain handling data processing, alerting logic (Alert Engine), and data storage.</li> <li>eSolutions Collectors: Lightweight, distributed proxies that gather data from remote zones and forward it to the Core.</li> <li>eSolutions Agents: Installed on endpoints (Windows/Linux) to collect OS and Application metrics.</li> </ul> <p>Description of Architecture: Data flows from the Agents to the local Collector. The Collector compresses and encrypts the data before transmitting it securely to the Monitoring Core. The Core processes the data via the Metrics Engine and triggers notifications via the Alert Engine. Users interact with the system through the Dashboard Service.</p>"},{"location":"architecture/overview/#network-flow","title":"Network Flow","text":"Source Zone Destination Zone Source Component Dest Component Port Protocol Usage App Zone Mgmt Zone Collector Monitoring Core 8443 TCP (TLS) Data Transmission App Zone App Zone Agent Collector 8444 TCP Active Checks DB Zone DB Zone Agent Collector 8444 TCP Active Checks Admin LAN Mgmt Zone User PC Dashboard Svc 443 HTTPS Web UI"},{"location":"architecture/overview/#security-zones","title":"Security Zones","text":"<ul> <li>Management Zone: Hosts the Monitoring Core and Database.</li> <li>Application Zone: Hosts Maximo and Collectors.</li> <li>Database Zone: Hosts DB2 and Collectors.</li> </ul>"},{"location":"architecture/scaling/","title":"Enterprise Scaling Strategy","text":"<p>The eSolutions Monitoring Platform is designed to scale from a single server (MVP) to a globally distributed enterprise deployment. This document outlines the architectural tiers and scaling strategies.</p>"},{"location":"architecture/scaling/#tier-1-mvp-single-site","title":"Tier 1: MVP / Single Site","text":"<p>Best for: POCs, Small environments (&lt; 50 Servers), Development.</p> <p>In this model, all \"Core\" components run on a single server. *   eSolutions Core: 1 Node (API + Alert Engine). *   Database: SQLite (local file) or Single PostgreSQL instance. *   Dashboard: Served directly by the Core.</p> <pre><code>graph LR\n    Agents --&gt;|Port 8443| Core\n    Core --&gt;|Read/Write| SQLite[(es_monitor.db)]\n    User --&gt;|Port 80/443| Core</code></pre>"},{"location":"architecture/scaling/#tier-2-distributed-multi-client-msp","title":"Tier 2: Distributed (Multi-Client / MSP)","text":"<p>Best for: Managed Service Providers (MSPs), Multi-Site Organizations.</p> <p>This model separates the \"Ingestion\" from the \"Processing\" and introduces Collectors to bridge network zones.</p> <ul> <li>Collectors: Placed in remote customer networks (behind firewalls). They buffer data and push to the Core.</li> <li>Core: Centralized in the MSP Datacenter.</li> <li>Database: PostgreSQL 15 (Dedicated Server).</li> </ul> <pre><code>graph LR\n    subgraph \"Client A (Site 1)\"\n        AgentA1 --&gt; CollectorA[Collector A]\n        AgentA2 --&gt; CollectorA\n    end\n\n    subgraph \"Client B (Site 2)\"\n        AgentB1 --&gt; CollectorB[Collector B]\n    end\n\n    subgraph \"MSP Datacenter\"\n        CollectorA --&gt;|TLS| CORE[Core API]\n        CollectorB --&gt;|TLS| CORE\n        CORE --&gt; DB[(PostgreSQL)]\n    end</code></pre>"},{"location":"architecture/scaling/#tier-3-enterprise-high-availability","title":"Tier 3: Enterprise (High Availability)","text":"<p>Best for: Large Enterprises (&gt; 1000 Servers), Critical Infrastructure.</p> <p>This model eliminates Single Points of Failure (SPOF) and handles high ingestion rates.</p> <ul> <li>Load Balancer: NGINX / HAProxy distributing traffic.</li> <li>Core Cluster: Multiple stateless Core instances behind the LB.</li> <li>Message Queue: RabbitMQ buffers incoming metrics for asynchronous processing.</li> <li>Database: PostgreSQL Cluster (Patroni/stolon) + TimescaleDB.</li> </ul> <pre><code>graph TD\n    LB[Load Balancer] --&gt; Core1\n    LB --&gt; Core2\n    Core1 --&gt;|Publish| RabbitMQ\n    Core2 --&gt;|Publish| RabbitMQ\n\n    RabbitMQ --&gt; Worker1[Alert Engine]\n    RabbitMQ --&gt; Worker2[Data Writer]\n\n    Worker1 --&gt; DB[(PostgreSQL Cluster)]\n    Worker2 --&gt; DB</code></pre>"},{"location":"architecture/scaling/#capacity-planning","title":"Capacity Planning","text":"Tier Metric/Sec Storage (1 Yr) CPU RAM Tier 1 (MVP) &lt; 100 ~50 GB 2 vCPU 4 GB Tier 2 (SME) 100 - 1,000 ~500 GB 4 vCPU 8 GB Tier 3 (Ent) &gt; 1,000 &gt; 2 TB 8+ vCPU 16+ GB"},{"location":"architecture/scaling/#handling-multi-tenancy-multi-client","title":"Handling Multi-Tenancy (Multi-Client)","text":"<p>For MSPs monitoring multiple distinct clients:</p> <ol> <li>Network Isolation: Use Collectors as gateways. No direct connection from Agent to Core required.</li> <li>Data Segregation: <ul> <li>Add <code>tenant_id</code> tag to every metric at the Collector level.</li> <li>Row-Level Security (RLS) in PostgreSQL ensures Client A cannot query Client B's data.</li> </ul> </li> <li>Authentication: Issue unique API Tokens per Collector.</li> </ol>"},{"location":"custom_monitoring/scripts/","title":"Custom Probes (Scripts)","text":"<p>The Agent can execute local scripts via the Probe Extension API.</p>"},{"location":"custom_monitoring/scripts/#configuration","title":"Configuration","text":"<p>Register custom scripts in the <code>agent_config.json</code> file under the <code>probes</code> section.</p> <pre><code>\"probes\": {\n  \"check_file_age\": {\n    \"cmd\": \"powershell -File C:\\\\scripts\\\\age.ps1\",\n    \"timeout\": 10\n  },\n  \"check_ssl\": {\n    \"cmd\": \"/bin/bash /etc/scripts/ssl.sh\",\n    \"timeout\": 5\n  }\n}\n</code></pre>"},{"location":"custom_monitoring/scripts/#windows-extension-powershell","title":"Windows Extension (PowerShell)","text":"<p>Path: <code>C:\\eSolutions\\Scripts\\Check-FileAge.ps1</code></p> <pre><code>param([string]$Path)\n$age = (New-TimeSpan -Start (Get-Item $Path).LastWriteTime).TotalMinutes\nWrite-Output $age\n</code></pre>"},{"location":"custom_monitoring/scripts/#linux-extension-bash","title":"Linux Extension (Bash)","text":"<p>Path: <code>/etc/esolutions/scripts/check_ssl.sh</code></p> <pre><code>#!/bin/bash\nTARGET=$1\n# Logic to check SSL expiry...\necho $DAYS_REMAINING\n</code></pre>"},{"location":"implementation/overview/","title":"Project Methodology","text":"<p>eSolutions follows a rigid 4-phase implementation methodology to ensure zero-downtime deployment.</p>"},{"location":"implementation/overview/#phase-1-discovery-design-week-1","title":"Phase 1: Discovery &amp; Design (Week 1)","text":"<ul> <li>Asset Inventory: Cataloging all Maximo JVMs, HTTP Servers, and DB Nodes.</li> <li>Network Mapping: Verifying connectivity between Zones (App, DB, Mgmt).</li> <li>Metric Definition: Workshops with App Owners to define \"Critical\" vs \"Warning\" thresholds.</li> <li>Output: Solution Design Document (SDD).</li> </ul>"},{"location":"implementation/overview/#phase-2-core-build-week-2","title":"Phase 2: Core Build (Week 2)","text":"<ul> <li>Deploy eSolutions Monitoring Core in the Management Zone.</li> <li>Configure High Availability (Active/Standby) if required.</li> <li>Deploy Collectors in the DMZ and Secure Zones.</li> <li>Establish secure SSL tunnels between Connectors and Core.</li> </ul>"},{"location":"implementation/overview/#phase-3-agent-rollout-week-3","title":"Phase 3: Agent Rollout (Week 3)","text":"<ul> <li>Pilot Group: Deploy Agents to Non-Prod environment first.</li> <li>Validation: Verify metric ingestion integrity.</li> <li>Mass Rollout: Use Ansible/SCCM to push Agents to Production.</li> <li>Plugin Activation: Enable <code>MaximoProbe</code> and <code>DB2Probe</code> modules.</li> </ul>"},{"location":"implementation/overview/#phase-4-tuning-handover-week-4","title":"Phase 4: Tuning &amp; Handover (Week 4)","text":"<ul> <li>Threshold Tuning: Adjust sensitivity to eliminate false positives.</li> <li>Dashboard Creation: Build role-based views (Mgmt, Ops, DB Team).</li> <li>Training: Conduct \"Train the Trainer\" session for the NOC team.</li> <li>Sign-off: Go-Live.</li> </ul>"},{"location":"implementation/python_guide/","title":"Python Development Guide","text":"<p>This section provides technical details for developers working on the eSolutions Platform Python codebase.</p>"},{"location":"implementation/python_guide/#project-structure","title":"Project Structure","text":"<pre><code>esolutions-platform/\n\u251c\u2500\u2500 core/                      # Core Engine\n\u2502   \u251c\u2500\u2500 api/                   # FastAPI REST endpoints\n\u2502   \u251c\u2500\u2500 engine/                # Metric processing engine\n\u2502   \u251c\u2500\u2500 alerts/                # Alert evaluation logic\n\u2502   \u2514\u2500\u2500 workers/               # Celery background tasks\n\u251c\u2500\u2500 agents/                    # Agent codebase\n\u2502   \u251c\u2500\u2500 collectors/            # Metric collectors (psutil, WMI, etc.)\n\u2502   \u251c\u2500\u2500 probes/                # Custom probe framework\n\u2502   \u2514\u2500\u2500 transport/             # Communication with collectors\n\u251c\u2500\u2500 web/                       # Dashboard\n\u2502   \u251c\u2500\u2500 backend/               # FastAPI backend\n\u2502   \u251c\u2500\u2500 frontend/              # React frontend\n\u2502   \u2514\u2500\u2500 api/                   # API routes\n\u2514\u2500\u2500 tests/                     # Unit and integration tests\n</code></pre>"},{"location":"implementation/python_guide/#core-dependencies","title":"Core Dependencies","text":""},{"location":"implementation/python_guide/#production-requirements","title":"Production Requirements","text":"<pre><code># requirements.txt\nfastapi==0.109.0\nuvicorn[standard]==0.27.0\ncelery[redis]==5.3.6\nredis==5.0.1\npsycopg2-binary==2.9.9       # PostgreSQL driver\nsqlalchemy==2.0.25           # ORM\npydantic==2.5.3              # Data validation\nrequests==2.31.0             # HTTP client\npsutil==5.9.8                # System metrics\npython-dateutil==2.8.2       # Date/time utilities\npyyaml==6.0.1                # YAML config parsing\njinja2==3.1.3                # Template engine\ncryptography==42.0.0         # Encryption/TLS\n\n# IBM Integration\nibm_db==3.2.3                # DB2 driver\njpype1==1.5.0                # Java integration (for JMX)\n</code></pre>"},{"location":"implementation/python_guide/#agent-specific-dependencies","title":"Agent-Specific Dependencies","text":"<pre><code># agent-requirements.txt (Windows)\npywin32==306                 # Windows APIs\nwmi==1.5.1                   # WMI interface\n\n# agent-requirements.txt (Linux)\n# (psutil covers most Linux needs)\n</code></pre>"},{"location":"implementation/python_guide/#core-engine-architecture","title":"Core Engine Architecture","text":""},{"location":"implementation/python_guide/#1-fastapi-application-coreapimainpy","title":"1. FastAPI Application (<code>core/api/main.py</code>)","text":"<pre><code>from fastapi import FastAPI, WebSocket\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom core.engine.metrics import MetricsEngine\nfrom core.alerts.evaluator import AlertEvaluator\n\napp = FastAPI(title=\"eSolutions Monitoring Core\")\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_methods=[\"*\"],\n)\n\n@app.post(\"/api/v1/metrics/ingest\")\nasync def ingest_metrics(payload: MetricPayload):\n    \"\"\"Receive metrics from Collectors\"\"\"\n    engine = MetricsEngine()\n    await engine.process(payload)\n    return {\"status\": \"accepted\"}\n\n@app.websocket(\"/ws/realtime\")\nasync def websocket_endpoint(websocket: WebSocket):\n    \"\"\"Real-time dashboard updates\"\"\"\n    await websocket.accept()\n    # Stream metric updates...\n</code></pre>"},{"location":"implementation/python_guide/#2-metric-processing-engine-coreenginemetricspy","title":"2. Metric Processing Engine (<code>core/engine/metrics.py</code>)","text":"<pre><code>import asyncio\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom core.database import get_session\n\nclass MetricsEngine:\n    async def process(self, payload: MetricPayload):\n        async with get_session() as session:\n            # Store in TimescaleDB\n            await self._store_metrics(session, payload.metrics)\n\n            # Trigger alert evaluation\n            await self._evaluate_alerts(payload.metrics)\n\n    async def _evaluate_alerts(self, metrics: List[Metric]):\n        evaluator = AlertEvaluator()\n        for metric in metrics:\n            if evaluator.should_alert(metric):\n                await self._dispatch_alert(metric)\n</code></pre>"},{"location":"implementation/python_guide/#3-celery-workers-coreworkerstaskspy","title":"3. Celery Workers (<code>core/workers/tasks.py</code>)","text":"<pre><code>from celery import Celery\nfrom core.engine.metrics import MetricsEngine\n\ncelery_app = Celery('esolutions', broker='redis://localhost:6379/0')\n\n@celery_app.task\ndef aggregate_metrics_hourly():\n    \"\"\"Runs every hour to create rollup aggregates\"\"\"\n    engine = MetricsEngine()\n    engine.aggregate(period='1h')\n\n@celery_app.task\ndef send_alert_notification(alert_id: int):\n    \"\"\"Send alert to Teams/Email\"\"\"\n    from core.notifications.teams import send_teams_message\n    alert = Alert.get_by_id(alert_id)\n    send_teams_message(alert)\n</code></pre>"},{"location":"implementation/python_guide/#agent-framework","title":"Agent Framework","text":""},{"location":"implementation/python_guide/#agent-main-loop-agentsagentpy","title":"Agent Main Loop (<code>agents/agent.py</code>)","text":"<pre><code>import time\nimport psutil\nfrom agents.transport import CollectorClient\nfrom agents.collectors.cpu import CPUCollector\nfrom agents.collectors.memory import MemoryCollector\n\nclass Agent:\n    def __init__(self, config_path: str):\n        self.config = self._load_config(config_path)\n        self.client = CollectorClient(self.config['collector_url'])\n        self.collectors = [\n            CPUCollector(),\n            MemoryCollector(),\n            # ... more collectors\n        ]\n\n    def run(self):\n        while True:\n            metrics = []\n            for collector in self.collectors:\n                metrics.extend(collector.collect())\n\n            self.client.send_batch(metrics)\n            time.sleep(self.config['interval'])\n\nif __name__ == \"__main__\":\n    agent = Agent(\"/etc/esolutions/agent.json\")\n    agent.run()\n</code></pre>"},{"location":"implementation/python_guide/#example-collector-agentscollectorscpupy","title":"Example Collector (<code>agents/collectors/cpu.py</code>)","text":"<pre><code>import psutil\nfrom agents.collectors.base import BaseCollector\n\nclass CPUCollector(BaseCollector):\n    def collect(self) -&gt; List[Metric]:\n        cpu_percent = psutil.cpu_percent(interval=1)\n        return [\n            Metric(\n                key=\"os.cpu.usage\",\n                value=cpu_percent,\n                timestamp=time.time(),\n                tags={\"hostname\": self.hostname}\n            )\n        ]\n</code></pre>"},{"location":"implementation/python_guide/#configuration-management","title":"Configuration Management","text":""},{"location":"implementation/python_guide/#core-config-etcesolutionscoreyaml","title":"Core Config (<code>/etc/esolutions/core.yaml</code>)","text":"<pre><code>database:\n  host: postgres.internal\n  port: 5432\n  name: es_monitor\n  user: es_admin\n  password: ${DB_PASSWORD}  # Environment variable\n\napi:\n  host: 0.0.0.0\n  port: 8443\n  workers: 8\n  tls:\n    enabled: true\n    cert: /etc/esolutions/certs/server.crt\n    key: /etc/esolutions/certs/server.key\n\ncelery:\n  broker: redis://redis.internal:6379/0\n  result_backend: redis://redis.internal:6379/1\n</code></pre>"},{"location":"implementation/python_guide/#testing","title":"Testing","text":""},{"location":"implementation/python_guide/#unit-tests-teststest_metrics_enginepy","title":"Unit Tests (<code>tests/test_metrics_engine.py</code>)","text":"<pre><code>import pytest\nfrom core.engine.metrics import MetricsEngine\n\n@pytest.mark.asyncio\nasync def test_metric_ingestion():\n    engine = MetricsEngine()\n    payload = MetricPayload(metrics=[\n        Metric(key=\"test.metric\", value=42.0)\n    ])\n    result = await engine.process(payload)\n    assert result.status == \"success\"\n</code></pre>"},{"location":"implementation/python_guide/#running-tests","title":"Running Tests","text":"<pre><code># Install dev dependencies\npip install pytest pytest-asyncio pytest-cov\n\n# Run tests\npytest tests/ --cov=core --cov-report=html\n</code></pre>"},{"location":"implementation/python_guide/#deployment","title":"Deployment","text":""},{"location":"implementation/python_guide/#building-agent-executable","title":"Building Agent Executable","text":"<pre><code># Package agent as standalone executable (Windows/Linux)\npyinstaller --onefile \\\n    --name esolutions-agent \\\n    --hidden-import=psutil \\\n    --hidden-import=wmi \\\n    agents/agent.py\n</code></pre>"},{"location":"implementation/python_guide/#docker-deployment-core","title":"Docker Deployment (Core)","text":"<pre><code>FROM python:3.11-slim\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY core/ ./core/\nCMD [\"uvicorn\", \"core.api.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8443\"]\n</code></pre>"},{"location":"implementation/requirements/","title":"Systems Requirements","text":"<p>Before Phase 2 (Core Build), the following prerequisites must be met by the Infrastructure Team.</p>"},{"location":"implementation/requirements/#firewall-rules-network","title":"Firewall Rules (Network)","text":"<p>The eSolutions Platform uses a proprietary encrypted protocol.</p> Source Destination Port Description Collectors Monitoring Core 8443 (TCP) Data Aggregation Stream Agents Collectors 8444 (TCP) Agent Data Payload Admin PC Monitoring Core 443 (HTTPS) Web Console Access"},{"location":"implementation/requirements/#compute-resources","title":"Compute Resources","text":""},{"location":"implementation/requirements/#monitoring-core-primary","title":"Monitoring Core (Primary)","text":"<ul> <li>OS: RHEL 9 or Windows Server 2022.</li> <li>CPU: 4 vCPU.</li> <li>RAM: 16 GB.</li> <li>Storage: 200 GB SSD (Tier 1).</li> </ul>"},{"location":"implementation/requirements/#collectors-x2","title":"Collectors (x2)","text":"<ul> <li>OS: RHEL 9 or Windows Server 2022.</li> <li>CPU: 2 vCPU.</li> <li>RAM: 4 GB.</li> </ul>"},{"location":"implementation/requirements/#service-accounts","title":"Service Accounts","text":"<ul> <li>Windows: Domain Service Account <code>SVC_ESOL_MON</code> with \"Log on as a Service\" rights.</li> <li>Linux: <code>sudo</code> access for initial installation (revoked after rollout).</li> <li>Database: <code>db2monitor</code> user with <code>SYSMON</code> authority.</li> <li>WebSphere: <code>maxadmin</code> (or equivalent read-only) for JMX queries.</li> </ul>"},{"location":"implementation/technology_stack/","title":"Technology Stack","text":"<p>The eSolutions Monitoring Platform is built with Python and designed to scale from a single-server MVP to a distributed enterprise deployment.</p> <p>This page documents both the current implementation and the target architecture. Items marked \u2705 are in use today; items marked \ud83d\udd34 are planned for future phases.</p>"},{"location":"implementation/technology_stack/#current-stack-mvp-tier-1","title":"Current Stack (MVP \u2014 Tier 1)","text":"<p>These technologies are actively used in the running system.</p>"},{"location":"implementation/technology_stack/#core-engine","title":"Core Engine","text":"Component Technology Version Notes Language Python 3.11+ All components Web Framework FastAPI 0.109+ REST API + static file serving ASGI Server Uvicorn 0.27+ Development and production ORM SQLAlchemy 2.0+ Database models and queries Validation Pydantic 2.5+ API request/response validation Config PyYAML 6.0+ YAML configuration parsing"},{"location":"implementation/technology_stack/#database","title":"Database","text":"Component Technology Notes Storage SQLite Zero-config, file-based (<code>es_monitor.db</code>) Schema SQLAlchemy ORM Auto-created on startup"},{"location":"implementation/technology_stack/#web-dashboard","title":"Web Dashboard","text":"Component Technology Notes Frontend HTML5 + Alpine.js (CDN) Single-page application Styling Tailwind CSS (CDN) Utility-first CSS framework Gauges Hand-coded SVG Circular gauge components Data Refresh REST API polling Every 5 seconds Served By FastAPI <code>StaticFiles</code> No separate web server needed"},{"location":"implementation/technology_stack/#agent","title":"Agent","text":"Component Technology Notes Metrics psutil Cross-platform CPU, RAM, Disk, Network HTTP Client requests Agent \u2192 Core communication JMX Bridge Java subprocess <code>JmxBridge.jar</code> for Maximo/WebSphere MBeans Packaging PyInstaller Standalone <code>.exe</code> (no Python required on target)"},{"location":"implementation/technology_stack/#notifications","title":"Notifications","text":"Channel Technology Status Email (SMTP) <code>smtplib</code> (stdlib) \u2705 Implemented (very_critical only) Dashboard REST API \u2705 Implemented (all severities) Log File Python <code>logging</code> \u2705 Implemented"},{"location":"implementation/technology_stack/#alert-engine","title":"Alert Engine","text":"Component Technology Notes Rule Evaluation Python (synchronous) Evaluated inline during metric ingestion Rules Storage SQLite <code>alert_rules</code> table Seeded on first startup History SQLite <code>alert_history</code> table FIRING / RESOLVED lifecycle"},{"location":"implementation/technology_stack/#target-architecture-future-phases","title":"Target Architecture (Future Phases)","text":"<p>The following technologies are planned but not yet implemented.</p>"},{"location":"implementation/technology_stack/#phase-b-next-sprint","title":"Phase B (Next Sprint)","text":"Component Planned Technology Purpose Status MS Teams Notifications Incoming Webhooks Alert channel for operations \ud83d\udd34 Planned API Authentication API Key / Bearer Token Secure agent-to-core communication \ud83d\udd34 Planned HTTPS Reverse Proxy (NGINX) or native TLS Transport encryption \ud83d\udd34 Planned"},{"location":"implementation/technology_stack/#phase-c-enterprise-scaling","title":"Phase C (Enterprise Scaling)","text":"Component Planned Technology Purpose Status Production Database PostgreSQL 15+ Scalable storage for high ingestion \ud83d\udd34 Planned Time-Series Extension TimescaleDB Efficient time-series queries \ud83d\udd34 Planned Message Queue RabbitMQ / Redis Streams Decouple ingestion from processing \ud83d\udd34 Planned Background Workers Celery Async alert evaluation and aggregation \ud83d\udd34 Planned Dashboard Frontend React + TypeScript Rich interactive dashboards \ud83d\udd34 Planned Charting Apache ECharts Time-series graphs \ud83d\udd34 Planned Real-time Updates WebSockets Live dashboard without polling \ud83d\udd34 Planned Authentication OAuth2 / SAML 2.0 Enterprise AD integration \ud83d\udd34 Planned Secrets HashiCorp Vault Encrypted credential storage \ud83d\udd34 Planned Docker Container deployment Cloud-native packaging \ud83d\udd34 Planned"},{"location":"implementation/technology_stack/#dependency-list","title":"Dependency List","text":""},{"location":"implementation/technology_stack/#requirementstxt-current","title":"<code>requirements.txt</code> (Current)","text":"<pre><code>fastapi\nuvicorn[standard]\nsqlalchemy\npydantic\npyyaml\npsutil\nrequests\n</code></pre>"},{"location":"implementation/technology_stack/#agent-additional-dependencies","title":"Agent Additional Dependencies","text":"<pre><code># Included in PyInstaller bundle \u2014 no separate install needed\npsutil          # System metrics\nrequests        # HTTP client\n</code></pre> <p>Note: The agent is packaged as a standalone <code>.exe</code> via PyInstaller. Target servers do not need Python installed.</p>"},{"location":"implementation/workflow/","title":"Implementation Workflow","text":"<p>This section provides a detailed breakdown of the implementation activities.</p>"},{"location":"implementation/workflow/#pre-implementation-1-week-before-kickoff","title":"Pre-Implementation (1 Week Before Kickoff)","text":""},{"location":"implementation/workflow/#stakeholder-identification","title":"Stakeholder Identification","text":"<ul> <li>Sponsor: IT Director / CIO.</li> <li>Technical Lead: Maximo System Administrator.</li> <li>Network Team: Firewall change approvals.</li> <li>Security Team: Certificate provisioning and security review.</li> </ul>"},{"location":"implementation/workflow/#environment-preparation-checklist","title":"Environment Preparation Checklist","text":"<ul> <li>[ ] VM provisioning completed (Core, Collectors).</li> <li>[ ] Firewall rules submitted for approval.</li> <li>[ ] Service accounts created in Active Directory.</li> <li>[ ] Database server access granted.</li> </ul>"},{"location":"implementation/workflow/#phase-1-discovery-design-week-1","title":"Phase 1: Discovery &amp; Design (Week 1)","text":""},{"location":"implementation/workflow/#day-1-2-asset-inventory","title":"Day 1-2: Asset Inventory","text":"<ul> <li>Tool: Automated discovery using <code>nmap</code>, <code>Ansible Facts</code>, or existing CMDB.</li> <li>Output: Excel spreadsheet listing:<ul> <li>Hostname</li> <li>IP Address</li> <li>OS Type/Version</li> <li>Installed Applications (Maximo, WAS, DB2)</li> <li>Current Monitoring Status</li> </ul> </li> </ul>"},{"location":"implementation/workflow/#day-3-4-network-security-review","title":"Day 3-4: Network &amp; Security Review","text":"<ul> <li>Activity: Review firewall logs to identify current traffic patterns.</li> <li>Workshop: 2-hour session with Network and Security teams.</li> <li>Deliverable: Network diagram with proposed monitoring zones.</li> </ul>"},{"location":"implementation/workflow/#day-5-metric-definition-workshop","title":"Day 5: Metric Definition Workshop","text":"<ul> <li>Attendees: Maximo App Owner, DBA, NOC Manager.</li> <li>Goal: Define SLA thresholds (e.g., \"Maximo login must complete in &lt; 3 seconds\").</li> <li>Output: Threshold Matrix (Google Sheets or Confluence).</li> </ul>"},{"location":"implementation/workflow/#phase-2-core-build-week-2","title":"Phase 2: Core Build (Week 2)","text":""},{"location":"implementation/workflow/#day-1-database-setup","title":"Day 1: Database Setup","text":"<pre><code># PostgreSQL Installation\ndnf install postgresql15-server postgresql15-contrib\npostgresql-setup --initdb\nsystemctl enable --now postgresql\n\n# TimescaleDB Extension\ndnf install timescaledb\ntimescaledb-tune --yes\n</code></pre>"},{"location":"implementation/workflow/#day-2-3-core-engine-deployment","title":"Day 2-3: Core Engine Deployment","text":"<ul> <li>Install eSolutions Core package.</li> <li>Configure <code>engine.yaml</code>:     <pre><code>database:\n  host: db.internal\n  name: es_monitor\n  pool: 100\nlisteners:\n  - protocol: tcp\n    port: 8443\n    tls: true\n</code></pre></li> <li>Start service: <code>systemctl start esolutions-core</code>.</li> </ul>"},{"location":"implementation/workflow/#day-4-5-collector-deployment","title":"Day 4-5: Collector Deployment","text":"<ul> <li>Deploy Collectors in DMZ and App Zone.</li> <li>Configure upstream connection to Core.</li> <li>Verify heartbeat in Core logs.</li> </ul>"},{"location":"implementation/workflow/#phase-3-agent-rollout-week-3","title":"Phase 3: Agent Rollout (Week 3)","text":""},{"location":"implementation/workflow/#day-1-pilot-deployment-non-prod","title":"Day 1: Pilot Deployment (Non-Prod)","text":"<ul> <li>Target: 5 servers (1 App, 1 DB, 3 Windows).</li> <li>Method: Manual installation for troubleshooting.</li> <li>Validation: Check <code>agent.log</code> for successful handshake.</li> </ul>"},{"location":"implementation/workflow/#day-2-3-automation-scripts","title":"Day 2-3: Automation Scripts","text":"<ul> <li>Ansible Playbook (Linux):     <pre><code>- name: Deploy eSolutions Agent\n  hosts: maximo_linux\n  tasks:\n    - name: Install RPM\n      yum:\n        name: /tmp/esolutions-agent.rpm\n    - name: Configure Agent\n      template:\n        src: agent_config.j2\n        dest: /etc/esolutions/agent.conf\n</code></pre></li> <li>SCCM Package (Windows): Create MSI deployment with config JSON.</li> </ul>"},{"location":"implementation/workflow/#day-4-5-production-rollout","title":"Day 4-5: Production Rollout","text":"<ul> <li>Phased deployment: 20% \u2192 50% \u2192 100%.</li> <li>Monitor Core CPU/Memory during rollout.</li> </ul>"},{"location":"implementation/workflow/#phase-4-tuning-handover-week-4","title":"Phase 4: Tuning &amp; Handover (Week 4)","text":""},{"location":"implementation/workflow/#day-1-2-threshold-tuning","title":"Day 1-2: Threshold Tuning","text":"<ul> <li>Review false positive alerts from Week 3.</li> <li>Adjust trigger sensitivity (e.g., \"CPU &gt; 90% for 10 min\" \u2192 \"15 min\").</li> </ul>"},{"location":"implementation/workflow/#day-3-dashboard-creation","title":"Day 3: Dashboard Creation","text":"<ul> <li>Build 3 dashboards (Executive, Ops, Engineer).</li> <li>Publish to stakeholder group for feedback.</li> </ul>"},{"location":"implementation/workflow/#day-4-training-session","title":"Day 4: Training Session","text":"<ul> <li>Duration: 2 hours.</li> <li>Topics: <ul> <li>Dashboard navigation.</li> <li>Alert acknowledgment.</li> <li>Basic troubleshooting (restart agent).</li> </ul> </li> </ul>"},{"location":"implementation/workflow/#day-5-go-live-sign-off","title":"Day 5: Go-Live &amp; Sign-Off","text":"<ul> <li>Conduct final health check.</li> <li>Obtain sign-off from Sponsor.</li> <li>Transition to BAU (Business As Usual) support.</li> </ul>"},{"location":"installation/agents/","title":"Agent Rollout Strategy","text":"<p>Agents are deployed to Maximo App Servers, HTTP Servers, and Database Nodes.</p>"},{"location":"installation/agents/#automated-deployment-ansiblesccm","title":"Automated Deployment (Ansible/SCCM)","text":"<p>Manual installation is discouraged. Use the <code>esolutions-deploy</code> playbook.</p>"},{"location":"installation/agents/#1-prepare-release-artifacts","title":"1. Prepare Release Artifacts","text":"<ul> <li>Windows: <code>esol-agent-win-x64.msi</code></li> <li>Linux: <code>esol-agent-linux-x86_64.rpm</code></li> <li>Configuration Template: <code>agent_config.json</code></li> </ul>"},{"location":"installation/agents/#2-configuration-logic-agent_configjson","title":"2. Configuration Logic (<code>agent_config.json</code>)","text":"<p>The agent uses a modern JSON-based configuration.</p> <pre><code>{\n  \"agent\": {\n    \"hostname\": \"auto_detect\",\n    \"environment\": \"production\",\n    \"buffer_size_mb\": 128\n  },\n  \"connectivity\": {\n    \"collector_list\": [\"10.20.1.5:8444\", \"10.20.1.6:8444\"],\n    \"tls_enabled\": true,\n    \"psk_file\": \"/etc/esolutions/secret.key\"\n  }\n}\n</code></pre>"},{"location":"installation/agents/#3-execution-windows-example","title":"3. Execution (Windows Example)","text":"<p>Push via SCCM / PowerShell Remoting:</p> <pre><code>Start-Process msiexec.exe -ArgumentList \"/i esol-agent.msi /qn CONFIG=C:\\Temp\\agent_config.json\" -Wait\n</code></pre>"},{"location":"installation/agents/#4-verification","title":"4. Verification","text":"<p>Check the <code>agent.log</code> for the handshake success message: <code>[INFO] Handshake with Collector 10.20.1.5:8444 successful. Session ID: A1B2...</code></p>"},{"location":"installation/collectors/","title":"Collectors Strategy","text":"<p>Collectors are deployed in Edge Zones to strictly control traffic flow back to the Core.</p>"},{"location":"installation/collectors/#topography","title":"Topography","text":"<ul> <li>DMZ Collector: Aggregates data from Public Web Servers.</li> <li>Secure Zone Collector: Aggregates data from DB2 and Internal App Servers.</li> </ul>"},{"location":"installation/collectors/#deployment-steps","title":"Deployment Steps","text":"<ol> <li>Provision VM: Minimal OS (RHEL/Windows Core).</li> <li>Install Binary: <code>esolutions-collector</code>.</li> <li>Key Exchange:     Generated a unique <code>connector_token</code> from the Core UI.     Paste this token into the Collector setup wizard.</li> </ol>"},{"location":"installation/collectors/#traffic-shaping","title":"Traffic Shaping","text":"<p>Collectors compress payloads to reduce WAN bandwidth. *   Compression: GZIP (Level 6). *   Batch Size: 1000 metrics per packet. *   Port: Outbound connection to Core on TCP 8443.</p>"},{"location":"installation/core/","title":"Platform Core Build","text":"<p>This section details the deployment of the central Monitoring Core.</p>"},{"location":"installation/core/#architecture-setup","title":"Architecture Setup","text":"<p>The Core should be deployed in a High Availability (HA) cluster configuration using a Virtual IP (VIP).</p>"},{"location":"installation/core/#database-layer","title":"Database Layer","text":"<p>eSolutions requires an enterprise-grade relational database. *   Recommendation: PostgreSQL 15 (Clustered). *   Schema Deployment:     Run the <code>esol-db-init</code> utility:     <pre><code>/opt/esolutions/bin/esol-db-init --db-host=db-cluster-vip --user=es_admin\n</code></pre></p>"},{"location":"installation/core/#core-engine-service","title":"Core Engine Service","text":"<ol> <li>Install Binary:<ul> <li>Linux: <code>rpm -i esolutions-engine-enterprise.rpm</code></li> <li>Windows: Run <code>Setup.exe</code> &gt; Choose \"Core Node\".</li> </ul> </li> <li>Configuration:     Update the <code>engine.yaml</code> file (JSON/YAML format, not legacy INI).     <pre><code>core:\n  mode: active\n  listen_port: 8443\n  workers: 50\ndatabase:\n  host: \"db.internal\"\n  pool_size: 100\n</code></pre></li> </ol>"},{"location":"installation/core/#frontend-dashboard-service","title":"Frontend (Dashboard Service)","text":"<p>Deployed on an isolated web node (Nginx/Apache). *   HTTPS: Terminate SSL at the Load Balancer or the Web Node. *   Context Path: <code>/esolutions/console</code>.</p>"},{"location":"maintenance/backup_dr/","title":"DR &amp; Backup Strategy","text":"<p>Status: The features described on this page are planned but not yet implemented. The platform currently operates as a Tier 1 MVP with no built-in backup or disaster recovery tooling.</p>"},{"location":"maintenance/backup_dr/#current-state","title":"Current State","text":"Feature Status Built-in backup utility (<code>esol-admin</code>) \ud83d\udd34 Not Implemented S3/Cloud backup integration \ud83d\udd34 Not Implemented Active/Standby Core failover \ud83d\udd34 Not Implemented DNS-based DR switchover \ud83d\udd34 Not Implemented Automated restore \ud83d\udd34 Not Implemented"},{"location":"maintenance/backup_dr/#manual-backup-interim-procedure","title":"Manual Backup (Interim Procedure)","text":"<p>Since the platform uses SQLite, backup is straightforward \u2014 copy the database file.</p>"},{"location":"maintenance/backup_dr/#database-backup","title":"Database Backup","text":"<pre><code># Windows \u2014 Copy the SQLite database file\ncopy \"C:\\eSolutions\\Core\\es_monitor.db\" \"C:\\Backups\\es_monitor_%date:~-4%-%date:~3,2%-%date:~0,2%.db\"\n</code></pre> <pre><code># Linux \u2014 Copy with timestamp\ncp /opt/esolutions/core/es_monitor.db /backups/es_monitor_$(date +%F).db\n</code></pre>"},{"location":"maintenance/backup_dr/#configuration-backup","title":"Configuration Backup","text":"<pre><code># Backup config files\ncopy \"C:\\eSolutions\\Core\\config.yaml\" \"C:\\Backups\\config.yaml\"\ncopy \"C:\\eSolutions\\Agent\\config.json\" \"C:\\Backups\\config.json\"\n</code></pre>"},{"location":"maintenance/backup_dr/#scheduled-backup-windows-task-scheduler","title":"Scheduled Backup (Windows Task Scheduler)","text":"<pre><code># Create a daily backup task\nschtasks /create /tn \"eSolutions DB Backup\" /tr \"copy C:\\eSolutions\\Core\\es_monitor.db C:\\Backups\\es_monitor_daily.db\" /sc daily /st 02:00\n</code></pre>"},{"location":"maintenance/backup_dr/#recovery-procedure","title":"Recovery Procedure","text":"<ol> <li>Stop the Core service</li> <li>Replace <code>es_monitor.db</code> with the backup copy</li> <li>Restart the Core service</li> <li>Verify via dashboard that metrics resume</li> </ol>"},{"location":"maintenance/backup_dr/#planned-features-future-phases","title":"Planned Features (Future Phases)","text":"Phase Feature Description C.1 Built-in backup CLI <code>esol-admin backup</code> command with scheduling C.2 S3/Azure Blob export Cloud backup integration C.3 Active/Standby failover Dual-Core with automatic promotion C.4 Data retention policies Automatic purge of metrics older than N days"},{"location":"monitoring/db2/","title":"Database (DB2) Monitoring","text":"<p>Status: DB2 monitoring is planned but not yet implemented. No DB2 collector, driver, or connection code exists in the current codebase.</p>"},{"location":"monitoring/db2/#current-state","title":"Current State","text":"Component Status DB2 Collector (agent module) \ud83d\udd34 Not Implemented <code>ibm_db</code> Python driver \ud83d\udd34 Not in requirements.txt DB2 connection configuration \ud83d\udd34 Not Implemented DB2 metric ingestion \ud83d\udd34 Not Implemented"},{"location":"monitoring/db2/#planned-metrics","title":"Planned Metrics","text":"<p>The following metrics are planned for the DB2 monitoring module:</p>"},{"location":"monitoring/db2/#performance-indicators","title":"Performance Indicators","text":"Metric Key Description Alert Condition Status <code>ibm.db2.connections.active</code> Active application connections &gt; 80% of <code>MAXAPPLS</code> \ud83d\udd34 Planned <code>ibm.db2.locks.deadlocks</code> Deadlock count Any increase &gt; 0 \ud83d\udd34 Planned"},{"location":"monitoring/db2/#capacity-planning","title":"Capacity Planning","text":"Metric Key Description Use Case Status <code>ibm.db2.tablespace.usage_pct[MAXDATA]</code> Tablespace usage percentage Storage forecasting \ud83d\udd34 Planned <code>ibm.db2.logs.primary_usage</code> Transaction log usage Log space management \ud83d\udd34 Planned"},{"location":"monitoring/db2/#maintenance-checks","title":"Maintenance Checks","text":"Metric Key Description Alert Condition Status <code>ibm.db2.maintenance.last_backup_age_hours</code> Hours since last backup Critical if &gt; 24 hours \ud83d\udd34 Planned"},{"location":"monitoring/db2/#implementation-approach-when-built","title":"Implementation Approach (When Built)","text":"<p>The DB2 collector will:</p> <ol> <li>Connect to DB2 using the <code>ibm_db</code> Python driver</li> <li>Execute read-only monitoring queries against DB2 snapshot functions</li> <li>Report metrics to the Core API via the standard ingestion endpoint</li> </ol>"},{"location":"monitoring/db2/#required-dependencies","title":"Required Dependencies","text":"<pre><code>ibm_db==3.2.3               # IBM DB2 Python driver\n</code></pre>"},{"location":"monitoring/db2/#required-configuration","title":"Required Configuration","text":"<pre><code>{\n    \"db2\": {\n        \"enabled\": true,\n        \"host\": \"db2-server\",\n        \"port\": 50000,\n        \"database\": \"MAXDB\",\n        \"username\": \"db2monitor\",\n        \"password\": \"password\"\n    }\n}\n</code></pre>"},{"location":"monitoring/db2/#prerequisites","title":"Prerequisites","text":"<ul> <li>DB2 client libraries on the agent server</li> <li><code>db2monitor</code> user with <code>SYSMON</code> authority (read-only)</li> <li>Network connectivity from agent to DB2 instance (TCP 50000)</li> </ul>"},{"location":"monitoring/maximo/","title":"Maximo Monitoring Scope","text":"<p>The eSolutions platform uses deep-dive Application Probes to monitor Maximo logic.</p>"},{"location":"monitoring/maximo/#1-user-experience-synthetic","title":"1. User Experience (Synthetic)","text":"<p>Simulates user behavior 24/7.</p> <ul> <li>Probe: <code>ux.scenario.login_flow</code></li> <li>Parameters: <code>{url: \"https://maximo.url\", user: \"monitor\"}</code></li> <li>SLA: &lt; 3000ms response time.</li> </ul>"},{"location":"monitoring/maximo/#2-cron-task-validator","title":"2. Cron Task Validator","text":"<p>Directly inspects the <code>CRONTASKINSTANCE</code> table via the Database Connector.</p> <ul> <li>Metric Key: <code>maximo.cron.stale_count</code></li> <li>Logic: Count instanced where <code>Active=1</code> AND <code>LastRun</code> &gt; <code>Schedule + Threshold</code>.</li> </ul>"},{"location":"monitoring/maximo/#3-escalation-engine","title":"3. Escalation Engine","text":"<p>Monitors the heartbeat of the Escalation processing.</p> <ul> <li>Metric Key: <code>maximo.escalation.backlog</code></li> <li>Warning: &gt; 50 records pending.</li> </ul>"},{"location":"monitoring/maximo/#4-ui-reachability","title":"4. UI Reachability","text":"<ul> <li>Metric Key: <code>net.http.check</code></li> <li>Features: SSL Certificate Validation, Content Matching (\"Sign In\").</li> </ul>"},{"location":"monitoring/maximo/#5-jmx-metric-collection","title":"5. JMX Metric Collection","text":"<p>The agent uses a lightweight Java Bridge (<code>JmxBridge.jar</code>) to query WebSphere/Liberty MBeans.</p>"},{"location":"monitoring/maximo/#key-metrics","title":"Key Metrics","text":"Metric Key MBean ObjectName Attribute <code>maximo.jvm.heap.used</code> <code>java.lang:type=Memory</code> <code>HeapMemoryUsage.used</code> <code>maximo.jvm.threads.active</code> <code>java.lang:type=Threading</code> <code>ThreadCount</code> <code>maximo.web.sessions</code> <code>WebSphere:type=SessionManager,*</code> <code>LiveCount</code> <code>maximo.cron.active</code> <code>maximo.cron:type=CronTask,*</code> <code>Active</code>"},{"location":"monitoring/maximo/#configuration","title":"Configuration","text":"<p>Enable the collector in <code>agent/config.json</code> and provide credentials:</p> <pre><code>\"maximo\": {\n    \"enabled\": true,\n    \"host\": \"localhost\",\n    \"port\": 9060,\n    \"username\": \"wasadmin\",\n    \"password\": \"password\"\n}\n</code></pre>"},{"location":"monitoring/os/","title":"Infrastructure (OS) Monitoring","text":"<p>Unified metrics for Windows and Linux endpoints, collected by the eSolutions Agent via <code>psutil</code>.</p>"},{"location":"monitoring/os/#compute-metrics","title":"Compute Metrics","text":"Resource Metric Key Status Alert Thresholds CPU <code>os.cpu.usage</code> \u2705 Implemented Warning &gt; 70%, Critical &gt; 90%, Very Critical &gt; 95% RAM (%) <code>os.memory.percent</code> \u2705 Implemented Warning &gt; 80%, Critical &gt; 90%, Very Critical &gt; 95% RAM (MB) <code>os.memory.used_mb</code> \u2705 Implemented Collected, no default alert rule RAM Total <code>os.memory.total_mb</code> \u2705 Implemented Collected, no default alert rule Disk Usage <code>os.disk.usage_percent</code> \u2705 Implemented Warning &gt; 85%, Critical &gt; 90%, Very Critical &gt; 95% Disk Used <code>os.disk.used_gb</code> \u2705 Implemented Collected, no default alert rule Disk Total <code>os.disk.total_gb</code> \u2705 Implemented Collected, no default alert rule Network Sent <code>os.network.bytes_sent</code> \u2705 Implemented Collected, no default alert rule Network Recv <code>os.network.bytes_recv</code> \u2705 Implemented Collected, no default alert rule Swap <code>os.swap.usage_pct</code> \ud83d\udd34 Not Implemented Planned <p>Note: Disk metrics include per-partition tags (e.g., <code>mountpoint=C:\\</code>). Each partition generates separate alerts.</p>"},{"location":"monitoring/os/#planned-features","title":"Planned Features","text":"Feature Metric Key Status Description Service Monitoring <code>os.service.status[name]</code> \ud83d\udd34 Not Implemented Check if critical services (e.g., IBM HTTP Server) are running Log Inspection <code>os.log.grep[path, pattern]</code> \ud83d\udd34 Not Implemented Real-time tailing of log files for error patterns Swap Usage <code>os.swap.usage_pct</code> \ud83d\udd34 Not Implemented Monitor swap/pagefile usage"},{"location":"monitoring/os/#dashboard-visualization","title":"Dashboard Visualization","text":"<p>The Operations Dashboard shows circular gauges for the following metrics when you click on a host:</p> Gauge Metric Key Color Thresholds CPU Usage <code>os.cpu.usage</code> Green &lt; 70%, Yellow 70-90%, Red &gt; 90% Memory <code>os.memory.percent</code> Green &lt; 70%, Yellow 70-90%, Red &gt; 90% Disk (per partition) <code>os.disk.usage_percent</code> Green &lt; 70%, Yellow 70-90%, Red &gt; 90% Network Out <code>os.network.bytes_sent</code> Scaled to human-readable units"},{"location":"monitoring/websphere/","title":"Middleware (WebSphere) Monitoring","text":"<p>Monitoring WebSphere Application Server via the JMX Bridge Module.</p> <p>The JMX Bridge (<code>JmxBridge.jar</code>) is implemented and collects basic JVM metrics. Advanced WebSphere-specific metrics (thread pools, JDBC pools, SSL certs) are planned but not yet implemented.</p>"},{"location":"monitoring/websphere/#jvm-health-via-jmx-bridge","title":"JVM Health (via JMX Bridge)","text":"Metric Key MBean Attribute Status <code>maximo.jvm.heap.used</code> <code>java.lang:type=Memory</code> <code>HeapMemoryUsage.used</code> \u2705 Implemented <code>maximo.jvm.heap.max</code> <code>java.lang:type=Memory</code> <code>HeapMemoryUsage.max</code> \u2705 Implemented <code>maximo.jvm.threads.active</code> <code>java.lang:type=Threading</code> <code>ThreadCount</code> \u2705 Implemented <code>maximo.jvm.classes.loaded</code> <code>java.lang:type=ClassLoading</code> <code>LoadedClassCount</code> \u2705 Implemented <code>maximo.jvm.cpu.process</code> <code>java.lang:type=OperatingSystem</code> <code>ProcessCpuLoad</code> \u2705 Implemented"},{"location":"monitoring/websphere/#configuration","title":"Configuration","text":"<p>Enable JMX collection in <code>agent/config.json</code>: <pre><code>{\n    \"maximo\": {\n        \"enabled\": true,\n        \"protocol\": \"iiop\",\n        \"host\": \"localhost\",\n        \"port\": 9060,\n        \"username\": \"wasadmin\",\n        \"password\": \"wasadmin\"\n    }\n}\n</code></pre></p> Protocol Use Case Port <code>iiop</code> Traditional WebSphere 8.5/9.0 9060 (default) <code>rmi</code> Liberty Profile / Open Liberty 9443 (default)"},{"location":"monitoring/websphere/#planned-websphere-metrics","title":"Planned WebSphere Metrics","text":"<p>The following metrics are documented targets but not yet collected by the JMX Bridge.</p>"},{"location":"monitoring/websphere/#thread-pools","title":"Thread Pools","text":"Metric Key Description Status <code>ibm.was.threads.webcontainer.active</code> WebContainer active threads \ud83d\udd34 Not Implemented <code>ibm.was.threads.webcontainer.max</code> WebContainer max threads \ud83d\udd34 Not Implemented"},{"location":"monitoring/websphere/#jdbc-connection-pools","title":"JDBC Connection Pools","text":"Metric Key Description Status <code>ibm.was.jdbc.free_connections</code> MaximoDS free JDBC connections \ud83d\udd34 Not Implemented <code>ibm.was.jdbc.wait_time_ms</code> JDBC connection wait time \ud83d\udd34 Not Implemented"},{"location":"monitoring/websphere/#jvm-extended","title":"JVM Extended","text":"Metric Key Description Status <code>ibm.was.jvm.heap.percent_used</code> Heap usage as percentage \ud83d\udd34 Not Implemented <code>ibm.was.jvm.gc.time_spent</code> GC pause time \ud83d\udd34 Not Implemented"},{"location":"monitoring/websphere/#security","title":"Security","text":"Metric Key Description Status <code>security.cert.expiry_days</code> SSL certificate days until expiry \ud83d\udd34 Not Implemented"},{"location":"monitoring/websphere/#prerequisites","title":"Prerequisites","text":"<ul> <li>Java JDK 8+ installed on the Maximo server</li> <li><code>JmxBridge.jar</code> deployed in the agent's <code>lib/</code> directory (included in the agent package)</li> <li>WebSphere admin port accessible (default 9060 for IIOP)</li> <li>Valid WebSphere admin credentials</li> </ul>"},{"location":"operations/alerting/","title":"Alerting Rules","text":"<p>The eSolutions Alert Engine evaluates incoming metrics against configurable threshold rules and triggers notifications based on severity.</p>"},{"location":"operations/alerting/#severity-model","title":"Severity Model","text":"<p>All alert rules have a severity level that determines the notification behavior:</p> Severity Level Notification Use Case <code>info</code> 1 Dashboard only Informational counters <code>warning</code> 2 Dashboard + log Approaching threshold <code>critical</code> 3 Dashboard + log Threshold breached <code>very_critical</code> 4 Dashboard + log + Email Emergency action required <p>Only <code>very_critical</code> alerts trigger email notifications. All other severities are visible on the dashboard and in logs.</p>"},{"location":"operations/alerting/#default-alert-rules","title":"Default Alert Rules","text":"<p>The following rules are seeded automatically on first startup:</p> Metric Condition Threshold Severity <code>os.cpu.usage</code> &gt; 70% \u26a0\ufe0f warning <code>os.cpu.usage</code> &gt; 90% \ud83d\udd34 critical <code>os.cpu.usage</code> &gt; 95% \ud83d\udea8 very_critical <code>os.memory.percent</code> &gt; 85% \u26a0\ufe0f warning <code>os.memory.percent</code> &gt; 90% \ud83d\udd34 critical <code>os.memory.percent</code> &gt; 95% \ud83d\udea8 very_critical <code>os.disk.usage_percent</code> &gt; 85% \u26a0\ufe0f warning <code>os.disk.usage_percent</code> &gt; 90% \ud83d\udd34 critical <code>os.disk.usage_percent</code> &gt; 95% \ud83d\udea8 very_critical"},{"location":"operations/alerting/#email-notifications","title":"Email Notifications","text":"<p>Email alerts are sent via SMTP for <code>very_critical</code> severity breaches only.</p>"},{"location":"operations/alerting/#configuration-configyaml","title":"Configuration (<code>config.yaml</code>)","text":"<pre><code>notifications:\n  email:\n    enabled: true\n    smtp_host: smtp.gmail.com\n    smtp_port: 587\n    use_tls: true\n    username: \"your-email@gmail.com\"\n    password: \"your-app-password\"\n    sender: \"esolutions-alerts@yourcompany.com\"\n    recipients:\n      - \"admin@yourcompany.com\"\n      - \"oncall@yourcompany.com\"\n</code></pre>"},{"location":"operations/alerting/#gmail-app-password-setup","title":"Gmail App Password Setup","text":"<p>If using Gmail, you must use an App Password (not your regular password): 1. Go to Google Account Security 2. Enable 2-Step Verification 3. Go to App passwords \u2192 Generate one for \"Mail\" 4. Use that 16-character password in <code>config.yaml</code></p>"},{"location":"operations/alerting/#email-format","title":"Email Format","text":"<p>Trigger Email includes: - Severity badge (color-coded) - Hostname - Metric key and current value - Threshold that was breached - Timestamp</p> <p>Resolution Email is sent when the metric returns below the threshold.</p>"},{"location":"operations/alerting/#api-endpoints","title":"API Endpoints","text":"Method Endpoint Description <code>GET</code> <code>/api/v1/alerts</code> List active (FIRING) alerts <code>GET</code> <code>/api/v1/alerts?tenant=X</code> Filter alerts by tenant"},{"location":"operations/alerting/#planned-features","title":"Planned Features","text":"Feature Status Microsoft Teams Webhooks \ud83d\udd34 Not Implemented Escalation Chain (T+15m SMS, T+60m Manager) \ud83d\udd34 Not Implemented Work Hours / Off Hours Routing \ud83d\udd34 Not Implemented Alert Acknowledgment \ud83d\udd34 Not Implemented"},{"location":"operations/runbook/","title":"Runbook: Incident Response","text":""},{"location":"operations/runbook/#workflow","title":"Workflow","text":"<ol> <li>Detect: Alert Engine triggers a notification.</li> <li>Triage: Operator acknowledges alert in Dashboard Service.</li> <li>Remediate: Follow specific playbook below.</li> <li>Resolve: System auto-closes alert when metric returns to normal.</li> </ol>"},{"location":"operations/runbook/#restart-procedures","title":"Restart Procedures","text":"Maximo / WebSphere (Linux)Maximo / WebSphere (Windows) <pre><code># Stop\n/opt/IBM/HTTPServer/bin/apachectl stop\n/opt/IBM/WebSphere/AppServer/profiles/ctgAppSrv01/bin/stopServer.sh MXServer\n\n# Start\n/opt/IBM/WebSphere/AppServer/profiles/ctgAppSrv01/bin/startServer.sh MXServer\n/opt/IBM/HTTPServer/bin/apachectl start\n</code></pre> <ol> <li>Open <code>services.msc</code>.</li> <li>Stop IBM HTTP Server.</li> <li>Stop IBMWAS85Service - Node01 - MXServer.</li> <li>Wait 60 seconds.</li> <li>Start IBMWAS85Service.</li> <li>Start IBM HTTP Server.</li> </ol>"},{"location":"operations/runbook/#common-scenarios","title":"Common Scenarios","text":"<ul> <li>Scenario: \"High JVM Heap\"<ul> <li>Action: Login to WAS Console &gt; Troubleshooting &gt; Java Dumps &gt; Generate Heap Dump. Restart JVM if stuck.</li> </ul> </li> <li>Scenario: \"Agent Unreachable\"<ul> <li>Action: Check Firewall (Port 8444). Restart Agent Service.</li> </ul> </li> </ul>"},{"location":"platform_config/dashboards/","title":"Dashboard Strategy","text":"<p>The eSolutions Platform provides a web dashboard at <code>http://CORE-IP:8443/dashboard</code>, served directly by the Core API. No additional web server is required.</p>"},{"location":"platform_config/dashboards/#currently-implemented","title":"Currently Implemented","text":""},{"location":"platform_config/dashboards/#operations-dashboard-dash-001","title":"Operations Dashboard (DASH-001)","text":"<p>The main dashboard provides real-time visibility into all monitored infrastructure.</p> <p>Stat Cards: | Card | Data Source | Description | | :--- | :--- | :--- | | Monitored Hosts | <code>/api/v1/metrics/summary</code> | Count of all agents reporting in | | Active Alerts | <code>/api/v1/alerts?status=FIRING</code> | Count of unresolved threshold breaches | | System Health | Derived | Green if 0 alerts, otherwise Red |</p> <p>Active Hosts Table: - Hostname (clickable for drill-down) - Tenant badge - Online/Offline status - Last Seen timestamp - Total metric count</p> <p>Features: - Multi-tenant filtering (dropdown selector) - Auto-refresh every 5 seconds - Dark mode UI with Tailwind CSS + Alpine.js</p>"},{"location":"platform_config/dashboards/#host-metrics-drill-down-dash-005","title":"Host Metrics Drill-Down (DASH-005)","text":"<p>Click any hostname in the Active Hosts table to reveal a detail panel.</p> <p>Circular Gauge Cards: | Gauge | Metric Key | Thresholds | | :--- | :--- | :--- | | CPU Usage | <code>os.cpu.usage</code> | Green &lt; 70%, Yellow 70-90%, Red &gt; 90% | | Memory | <code>os.memory.percent</code> | Green &lt; 70%, Yellow 70-90%, Red &gt; 90% | | Disk | <code>os.disk.usage_percent</code> | Green &lt; 70%, Yellow 70-90%, Red &gt; 90% | | Network Out | <code>os.network.bytes_sent</code> | Scaled to MB |</p> <p>Full Metrics Table: - All metric keys with values and timestamps - Color-coded values for high CPU/Memory - Auto-refreshes while the panel is open</p>"},{"location":"platform_config/dashboards/#planned-dashboards","title":"Planned Dashboards","text":"<p>The following dashboards are documented and planned for future phases.</p>"},{"location":"platform_config/dashboards/#executive-view-cio-management-dash-002","title":"Executive View \u2014 CIO / Management (DASH-002)","text":"<p>Goal: High-level SLA tracking for leadership.</p> Widget Description Status Overall Maximo Availability 30-day rolling average uptime \ud83d\udd34 Not Implemented License Usage Active User License count vs Purchased \ud83d\udd34 Not Implemented System Status Green/Yellow/Red traffic light per environment \ud83d\udd34 Not Implemented"},{"location":"platform_config/dashboards/#operations-center-noc-dash-003","title":"Operations Center \u2014 NOC (DASH-003)","text":"<p>Goal: Rapid triage of alerts and system status.</p> Widget Description Status Problem Feed Live stream of Critical/Warning alerts \ud83d\udd34 Not Implemented Database Lock Monitor DB2 lock/deadlock live view \ud83d\udd34 Not Implemented JVM Cluster Heatmap WebSphere JVM health across cluster \ud83d\udd34 Not Implemented"},{"location":"platform_config/dashboards/#engineer-view-sre-admin-dash-004","title":"Engineer View \u2014 SRE / Admin (DASH-004)","text":"<p>Goal: Deep Dive Root Cause Analysis.</p> Widget Description Status Heap Memory Graph Time-series JVM heap usage \ud83d\udd34 Not Implemented GC Activity Graph Garbage Collection pauses over time \ud83d\udd34 Not Implemented CPU Steal Time Hypervisor contention detection \ud83d\udd34 Not Implemented Log Stream Tail of <code>SystemOut.log</code> and <code>db2diag.log</code> \ud83d\udd34 Not Implemented"},{"location":"platform_config/dashboards/#technical-details","title":"Technical Details","text":"<ul> <li>Technology: HTML5, Tailwind CSS (CDN), Alpine.js (CDN)</li> <li>Served by: FastAPI <code>StaticFiles</code> mount at <code>/static</code></li> <li>Entry point: <code>GET /dashboard</code> \u2192 <code>core/web/static/index.html</code></li> <li>Data source: All data fetched from Core REST API (<code>/api/v1/*</code>)</li> <li>Refresh interval: 5 seconds (configurable in JavaScript)</li> </ul>"},{"location":"platform_config/metrics/","title":"Metric Definitions","text":"<p>eSolutions uses a hierarchical Namespace format for metrics.</p>"},{"location":"platform_config/metrics/#namespace-standard","title":"Namespace Standard","text":"<p><code>domain.component.subcomponent.metric[attributes]</code></p> Segment Example Description Domain <code>os</code>, <code>ibm</code>, <code>net</code> High level category. Component <code>maximo</code>, <code>was</code>, <code>db2</code> The software being monitored. Sub <code>jvm</code>, <code>cron</code>, <code>logs</code> Specific internal component."},{"location":"platform_config/metrics/#threshold-strategy","title":"Threshold Strategy","text":"<p>We avoid \"Alert Fatigue\" by implementing a 3-tier severity model in the Alert Engine.</p> <ol> <li>Info: Logged for analysis, no notification. (e.g., \"Backup Succeeded\").</li> <li>Warning: Potential issue, requires next-day review. (e.g., \"Disk 85% full\").</li> <li>Critical: Immediate action required. (e.g., \"Maximo Login Failed\").</li> </ol>"},{"location":"platform_config/metrics/#hysteresis-implementation","title":"Hysteresis implementation","text":"<p>To prevent flapping, all numerical alerts are configured with a recovery delta in the platform JSON configuration.</p> <pre><code>{\n  \"trigger\": \"high_cpu\",\n  \"threshold\": 90,\n  \"recovery\": 80,\n  \"duration\": \"5m\"\n}\n</code></pre>"},{"location":"security/hardening/","title":"Security &amp; Hardening","text":""},{"location":"security/hardening/#current-security-posture","title":"Current Security Posture","text":"<p>Status: The platform is currently in MVP / Development stage. The security features listed below represent the target architecture. Items marked \u2705 are implemented; items marked \ud83d\udd34 are planned for future phases.</p>"},{"location":"security/hardening/#transport-security","title":"Transport Security","text":"Feature Status Details Agent \u2192 Core communication \ud83d\udd34 Plaintext HTTP Agents send metrics via <code>http://</code> to the Core API TLS 1.3 encryption \ud83d\udd34 Not Implemented Planned for Phase B \u2014 requires certificate provisioning HTTPS on Dashboard \ud83d\udd34 Not Implemented Core serves dashboard over HTTP <p>Current Risk: All metric data and alert information is transmitted in cleartext. Suitable for isolated lab/dev networks only.</p> <p>Mitigation (Interim): Deploy behind a reverse proxy (NGINX/IIS) with TLS termination.</p> <pre><code># Example: NGINX reverse proxy with TLS\nserver {\n    listen 443 ssl;\n    ssl_certificate /etc/ssl/esolutions.crt;\n    ssl_certificate_key /etc/ssl/esolutions.key;\n\n    location / {\n        proxy_pass http://127.0.0.1:8444;\n    }\n}\n</code></pre>"},{"location":"security/hardening/#authentication-authorization","title":"Authentication &amp; Authorization","text":"Feature Status Details API Authentication \ud83d\udd34 Not Implemented All API endpoints are publicly accessible Dashboard Login \ud83d\udd34 Not Implemented Dashboard is accessible without credentials Agent Authentication \ud83d\udd34 Not Implemented Any client can POST metrics to <code>/api/v1/metrics/ingest</code> Active Directory / LDAP \ud83d\udd34 Not Implemented Planned for enterprise deployments Role-Based Access Control \ud83d\udd34 Not Implemented No user roles exist <p>Current Risk: Any network actor can inject fake metrics, read all alerts, or access the dashboard.</p> <p>Mitigation (Interim): Restrict access via firewall rules \u2014 allow only known agent IPs to reach port 8444.</p>"},{"location":"security/hardening/#secrets-management","title":"Secrets Management","text":"Feature Status Details SMTP credentials \u26a0\ufe0f Plaintext in config.yaml Email password stored as plain text JMX credentials \u26a0\ufe0f Plaintext in config.json WebSphere admin password stored as plain text Encrypted Vault (<code>esol-vault</code>) \ud83d\udd34 Not Implemented Planned \u2014 environment variables recommended as interim <p>Mitigation (Interim): Use environment variables for sensitive values: <pre><code># config.yaml\nnotifications:\n  email:\n    password: ${SMTP_PASSWORD}  # Read from environment\n</code></pre></p>"},{"location":"security/hardening/#runtime-security","title":"Runtime Security","text":"Feature Status Details Dedicated service account \ud83d\udd34 Not Implemented Agent/Core run as the executing user Process isolation \u2705 Implemented Agent and Core are separate processes Log file rotation \ud83d\udd34 Not Implemented Log files grow unbounded Input validation \u2705 Implemented Pydantic models validate all API inputs"},{"location":"security/hardening/#security-roadmap","title":"Security Roadmap","text":"Phase Feature Priority B.1 API Key authentication for agents \ud83d\udd34 High B.2 HTTPS via reverse proxy documentation \ud83d\udfe1 Medium B.3 Environment variable secret injection \ud83d\udfe1 Medium C.1 Native TLS support in Core \ud83d\udd34 High C.2 Dashboard login (local users) \ud83d\udfe1 Medium C.3 Active Directory / LDAP integration \ud83d\udfe2 Low C.4 Certificate-based agent authentication \ud83d\udfe2 Low"},{"location":"tooling/","title":"Gap Analysis Tools","text":"<p>This section documents the custom tooling used to maintain alignment between documentation and implementation.</p>"},{"location":"tooling/#implementation-gap-tracker","title":"Implementation Gap Tracker","text":"<p>The <code>gap_tracker.py</code> tool scans the documentation and compares it against the codebase status defined in <code>implementation_gap.yaml</code>.</p>"},{"location":"tooling/#key-files","title":"Key Files","text":"File Location Description Gap Analysis Report <code>docs/gap_analysis_report.md</code> Latest audit of documentation vs implementation Implementation Gap YAML <code>EsMonitorDocs/implementation_gap.yaml</code> Machine-readable gap definitions Gap Tracker Script <code>EsMonitorDocs/mcp-server/tools/gap_tracker.py</code> Python script that analyzes gaps"},{"location":"tooling/#usage","title":"Usage","text":"<p>Run the tracker from the project root:</p> <pre><code>python EsMonitorDocs/mcp-server/tools/gap_tracker.py --stats\npython EsMonitorDocs/mcp-server/tools/gap_tracker.py --next\n</code></pre>"},{"location":"tooling/#purpose","title":"Purpose","text":"<p>Ensures that every feature documented in MkDocs has a corresponding tracking status in <code>implementation_gap.yaml</code>. The tracker helps identify:</p> <ul> <li>Features documented but not implemented</li> <li>Features implemented but not documented</li> <li>Metric key mismatches between docs and code</li> <li>Missing status markers on documentation pages</li> </ul>"},{"location":"tooling/#related","title":"Related","text":"<ul> <li>Gap Analysis Report \u2014 Full audit results</li> </ul>"}]}